{"version":3,"sources":["services/validator.js","api-services/auth-service.js","pages/login_signup/signup.js","pages/login_signup/login.js","pages/login_signup/verify.js","pages/forgot_password/forgotPassword.js","pages/forgot_password/newPassword.js","services/localStorage.js","pages/homepage.js","api-services/auth-header.js","api-services/profile-service.js","components/divider.js","api-services/book-list.js","components/book-thumbnail.js","pages/user-profile/profile.js","api-services/upload-image-service.js","pages/user-profile/editProfile.js","api-services/book-service.js","components/headerBook.js","pages/book/detailBook.js","pages/list-books/reading.js","pages/list-books/favourites.js","pages/list-books/readLater.js","gifs/loading.gif","pages/search/search-res.js","pages/categories/category.js","pages/categories/topBook.js","pages/categories/newReleaseBook.js","pages/categories/discover.js","pages/categories/recommend.js","api-services/medias-services.js","pages/book/Loader.js","pages/book/PDFPrinter.js","pages/book/ControlPanel.js","pages/book/PDFReader.js","pages/audio/audio.js","pages/book/ReadBook.js","routes/routes.js","components/footer.js","components/header.js","components/headerUser.js","App.js","reportWebVitals.js","index.js"],"names":["Validator","rules","this","initiate","isValid","errors","state","forEach","rule","field","fieldValue","args","method","methods","validWhen","message","API_URL","AuthService","email","password","a","axios","post","then","res","data","localStorage","setItem","JSON","stringify","body","user","token","username","error","response","code","newPassword","put","removeItem","customStyles","content","width","top","left","right","bottom","transform","SignUp","React","useState","modalIsOpen","setIsOpen","setState","setErrors","history","useHistory","useEffect","validator","min","handleChange","evt","value","target","name","validate","handleSubmit","e","preventDefault","Object","entries","length","signup","console","log","toast","success","position","POSITION","BOTTOM_LEFT","push","pathname","closeModal","className","isOpen","onRequestClose","style","marginBottom","marginTop","fontFamily","fontSize","onClick","src","marginRight","to","textDecoration","color","class","type","id","placeholder","onChange","Login","isChecked","setIsChecked","val","login","setTimeout","window","location","reload","checked","Verify","useLocation","verifyCode","handleResendCode","resendCode","cursor","ForgotPassword","forgotPassword","NewPassword","resetPassword","resendPasswordCode","LocalStorageService","jwtDecode","getItem","Homepage","alt","authHeader","accessToken","Authorization","userID","get","headers","fullname","avatar","DoB","gender","phone","address","payment","Divider","prop","children","BookThumbnail","image","whiteSpace","bookName","author","UserProfile","userState","setUser","readingState","setReading","favouriteState","setFavourite","laterState","setLater","ProfileService","getProfileUser","catch","err","BookListService","getReadings","listBookThumb","reading","slice","map","book","getFavourites","favorites","getReadLater","bookListData","readLater","padding","substr","moment","format","UploadImageService","item","EditProfile","imageSelected","setImageSelected","makeid","result","characters","charactersLength","i","charAt","Math","floor","random","handleUpload","formData","FormData","append","imageName","info","link","display","flexDirection","accept","border","event","files","backgroundColor","readOnly","undefined","editProfileUser","BookService","filter","docs","HeaderBook","categories","setCategories","getAllGenres","genres","background","fontWeight","category","convertCategoryDropDown","marginLeft","DetailBook","bookID","match","params","ratings","title","page","downloads","view","price","summary","setBook","getDetailBook","margin","borderColor","xmlns","height","fill","viewBox","d","ReadingList","_id","FavouriteList","favourites","setFavourites","ReadLaterList","setReadLater","SearchResult","searchRes","setSearchRes","isLoaded","setIsloaded","loading","convertSearchRes","Category","books","bookList","setBookList","searchBook","textAlign","TopBook","topBk","topBook","setTopBook","getTopBook","NewReleaseBook","newRelList","newRel","setNewRel","getNewReleaseBook","Discover","trending","setTrending","latest","setLatest","bookService","minHeight","convertTrending","convertLatest","Recommend","rec","recommend","setRecommend","Loader","isLoading","PDFPrinter","file","pdfFrame","document","createElement","visibility","appendChild","contentWindow","focus","print","ControlPanel","props","pageNumber","numPages","setPageNumber","scale","setScale","isFirstPage","isLastPage","firstPageClass","lastPageClass","isMinZoom","isMaxZoom","zoomOutClass","zoomInClass","max","Number","toFixed","href","download","pdfjs","GlobalWorkerOptions","workerSrc","version","PDFReader","setNumPages","setIsLoading","urlPDF","setUrlPDF","mediasServices","getDetailMedia","pdfs","onLoadSuccess","AudioBook","sounds","setSound","audios","listStyle","elm","audio","getElementById","getAttribute","load","play","sound","converSoundList","controls","ReadBook","ROUTES","path","exact","main","PRIVATE_ROUTES_USER","justifyContent","Footer","Header","setAuthor","setTitle","borderRadius","HeaderUser","logout","showRoutesPublic","routes","route","index","render","showRoutesPrivateUser","isLoggedIn","role","from","App","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.7b0c641d.chunk.js","sourcesContent":["import methods from 'validator';\r\n\r\nclass Validator {\r\n  constructor(rules) {\r\n    this.rules = rules;\r\n    this.initiate();\r\n  }\r\n\r\n  initiate() {\r\n    this.isValid = true;\r\n    this.errors = {};\r\n  }\r\n\r\n  validate(state) {\r\n    this.initiate();\r\n    this.rules.forEach((rule) => {\r\n      if (this.errors[rule.field]) return;\r\n\r\n      const fieldValue = state[rule.field] || '';\r\n      const args = rule.args || [];\r\n      const validationMethod = typeof rule.method === 'string'\r\n        ? methods[rule.method]\r\n        : rule.method;\r\n\r\n      if (validationMethod(fieldValue, ...args, state) !== rule.validWhen) {\r\n        this.errors[rule.field] = rule.message;\r\n        this.isValid = false;\r\n      }\r\n    });\r\n    return this.errors;\r\n  }\r\n}\r\n\r\nexport default Validator;","import axios from \"axios\";\r\n\r\nconst API_URL = \"https://nice-book.herokuapp.com/api/v1/auth/\";\r\n\r\nclass AuthService {\r\n    async login (email, password) {\r\n        return await axios.post(API_URL + \"login\", {\r\n            email,\r\n            password\r\n        }).then(res => {\r\n                if (res.data) {\r\n                    localStorage.setItem(\"user\", JSON.stringify(res.data.body));\r\n                    localStorage['email'] = res.data.body.user.email;\r\n                    localStorage['accessToken'] = res.data.body.token;\r\n                    localStorage['username'] = res.data.body.user.username;\r\n                }\r\n                return res.data;\r\n            }, error => {\r\n                return error.response.data;\r\n            }\r\n        )\r\n    }\r\n\r\n    async signup (email, username, password) {\r\n        return await axios.post(API_URL + \"register\", {\r\n            email,\r\n            username,\r\n            password\r\n        }).then(res => {\r\n                return res.data;\r\n            }, error => {\r\n                return error.response.data;\r\n            }\r\n        )\r\n    }\r\n\r\n    async forgotPassword (email) {\r\n        return await axios.post(API_URL + \"forgot-password\", {\r\n            email\r\n        }).then(res => {\r\n            return res.data;\r\n        }, error => {\r\n            return error.response.data;\r\n        })\r\n    }\r\n\r\n    async resetPassword (email, code, newPassword) {\r\n        return await axios.put(API_URL + \"reset-password\", {\r\n            email,\r\n            code,\r\n            newPassword\r\n        }).then(res => {\r\n                return res.data;\r\n            }, error => {\r\n                return error.response.data;\r\n            }\r\n        )\r\n    }\r\n\r\n    async resendPasswordCode (email) {\r\n        return await axios.put(API_URL + \"resend-password-code\", {\r\n            email\r\n        }).then(res => {\r\n            return res.data;\r\n        }, error => {\r\n            return error.response.data;\r\n        })\r\n    }\r\n\r\n    logout () {\r\n        localStorage.removeItem(\"user\");\r\n        localStorage.removeItem(\"email\");\r\n        localStorage.removeItem(\"accessToken\");\r\n        localStorage.removeItem(\"username\");\r\n    }\r\n\r\n    async verifyCode (email, code) {\r\n        return await axios.put(API_URL + \"verify\", {\r\n            email,\r\n            code\r\n        }).then(res => {\r\n            return res.data;\r\n        }, error => {\r\n            return error.response.data;\r\n        })\r\n    }\r\n\r\n    async resendCode (email) {\r\n        return await axios.put(API_URL + \"resend-verify-code\", {\r\n            email\r\n        }).then(res => { return res.data;\r\n        }, error => {\r\n            return error.response.data;\r\n        })\r\n    }\r\n}\r\n\r\nexport default new AuthService();\r\n","import React, { Component, useEffect } from 'react';\r\nimport { Link, useHistory} from \"react-router-dom\";\r\nimport { useState } from 'react';\r\nimport { ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Validator from '../../services/validator';\r\nimport AuthService from '../../api-services/auth-service';\r\nimport axios from 'axios';\r\nimport Modal from \"react-modal\";\r\n\r\nconst customStyles = {\r\n    content: {\r\n        width: '700px',\r\n        top: '30%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        transform: 'translate(-50%, -50%)',\r\n    },\r\n};\r\n\r\nfunction SignUp(){\r\n    const [modalIsOpen, setIsOpen] = React.useState(false); //Modal\r\n    const [state, setState] = useState(\r\n        {\r\n            username: '',\r\n            email: '',\r\n            password: '',\r\n        }\r\n    );\r\n\r\n    const [errors, setErrors] = useState(\r\n    );\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        setErrors({\r\n            username: 'The username field is required.',\r\n            email: 'The email is required.',\r\n            password: 'The password field is required.'})\r\n    }, [])\r\n\r\n    const requiredWith = (value, field, state) => (!state[field] && !value) || !!value;\r\n\r\n    const rules = [\r\n        {\r\n            field: 'username',\r\n            method: 'isEmpty',\r\n            validWhen: false,\r\n            message: 'The username field is required.',\r\n        },\r\n        {\r\n            field: 'email',\r\n            method: 'isEmpty',\r\n            validWhen: false,\r\n            message: 'The email field is required.',\r\n        },\r\n        {\r\n            field: 'email',\r\n            method: 'isEmail',\r\n            validWhen: true,\r\n            message: 'The email must be a valid email address.',\r\n        },\r\n        {\r\n            field: 'password',\r\n            method: 'isEmpty',\r\n            validWhen: false,\r\n            message: 'The password field is required.',\r\n        },\r\n        {\r\n            field: 'password',\r\n            method: 'isLength',\r\n            args: [{min: 8}],\r\n            validWhen: true,\r\n            message: 'The password must be at least 8 characters.',\r\n        },\r\n    ];\r\n    var validator = new Validator(rules);\r\n\r\n    const handleChange = (evt) => {\r\n        const value = evt.target.value;\r\n        setState({\r\n            ...state,\r\n            [evt.target.name]: value,\r\n        });\r\n        setErrors(validator.validate({\r\n            ...state,\r\n            [evt.target.name]: value,\r\n        }))\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        var isValidated = true;\r\n        // console.log(isValidated);\r\n        // console.log(errors);\r\n\r\n        if (Object.entries(errors).length === 0){\r\n            const res = await AuthService.signup(state.email, state.username, state.password);\r\n            console.log(res.message);\r\n            if(JSON.stringify(res.message) == \"\\\"REGISTER_SUCCESS\\\"\") {\r\n                toast.success(\"Signup successfully \",{\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                let email = state.email;\r\n                history.push({\r\n                    pathname: '/verify',\r\n                    state: email\r\n                });\r\n            }\r\n            else if(JSON.stringify(res.message) == \"\\\"EMAIL_ALREADY_EXIST\\\"\"){\r\n                openModal();\r\n            }\r\n        }\r\n        else {\r\n            if (errors.username !== ''){\r\n                toast.error(errors.username,{\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                isValidated = false;\r\n                console.log('username');\r\n            }\r\n            if (errors.email !== '' ){\r\n                toast.error(errors.email,{\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                isValidated = false;\r\n                console.log('email');\r\n            }\r\n            if (errors.password !== ''){\r\n                toast.error(errors.password,{\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                isValidated = false;\r\n                console.log('password');\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    //Modal function\r\n    function openModal() {\r\n        setIsOpen(true);\r\n    }\r\n\r\n    function closeModal() {\r\n        setIsOpen(false);\r\n    }\r\n\r\n    return(\r\n        <div className='yellow-background signup'>\r\n            <Modal\r\n                isOpen={modalIsOpen}\r\n                onRequestClose={closeModal}\r\n                style={customStyles}\r\n            >\r\n                <h1>Error</h1>\r\n                <div className=\"line\"></div>\r\n                <div style={{marginBottom: '30px', marginTop: '30px', fontFamily: 'Montserrat', fontSize: '22px'}}>Email already exists!</div>\r\n                <div className=\"line\"></div>\r\n                <button className=\"btn btn-primary btn-lg button-center\" onClick={closeModal}>OK</button>\r\n            </Modal>\r\n            <ToastContainer />\r\n            <div className='dialog-bg center'>\r\n                <div className='signup-background'>\r\n                    <img src='./images/sign-up.png' ></img>\r\n                </div>\r\n                <div>\r\n                    <div className='block-center'>\r\n                        <div>\r\n                            <img src='./images/Logo.png'></img>\r\n                        </div>\r\n                        <div>\r\n                            <h4 style={{marginRight:'20px'}}><Link to='/login'  style={{ textDecoration: 'none', color:'black'}}>Login </Link> &nbsp;&nbsp;\r\n                                <Link to='#'  style={{ textDecoration: 'none', color:'#FCBD10'}}>Signup</Link> </h4>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='signup-form'>\r\n\r\n                        <h1 className='title'>SIGN UP</h1>\r\n                        <h5 className='subtitle'>Already have an account? {' '}\r\n                            <Link to ='/login' style={{color:'#FCBD10'}}>Log in</Link></h5>\r\n\r\n                        <div className=\"form-group input-icons\">\r\n                            <i class=\"fa fa-envelope-o icon fa-2x\" aria-hidden=\"true\"></i>\r\n                            <input type=\"text\" className=\"form-control input input-field\" name=\"email\"\r\n                                   id=\"email\" placeholder=\"Email\" onChange={handleChange}/>\r\n                            <i class=\"fa fa-user-o icon fa-2x\" aria-hidden=\"true\"></i>\r\n                            <input type=\"text\" className=\"form-control input input-field\" name=\"username\"\r\n                                   id=\"username\" placeholder=\"Username\" onChange={handleChange}/>\r\n                            <i class=\"fas fa-lock  icon fa-2x\"></i>\r\n                            <input type=\"password\" className=\"form-control input input-field\" name=\"password\"\r\n                                   id=\"password\" placeholder=\"Password\" onChange={handleChange}/>\r\n                        </div>\r\n\r\n                        <button type=\"button\" class=\"btn btn-primary btn-lg button-center\" onClick={handleSubmit}>Sign Up</button>\r\n                        <h6 className=\"subtitle forgot-pass\"><Link to = '/forgot-password' style={{color:'grey'}}>Forgot your password?</Link></h6>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SignUp;\r\n","import React, {Component, useEffect, useState} from \"react\";\r\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport { ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Validator from '../../services/validator';\r\nimport AuthService from '../../api-services/auth-service';\r\nimport axios from 'axios';\r\nimport Modal from 'react-modal';\r\n\r\nconst customStyles = {\r\n    content: {\r\n        width: '700px',\r\n        top: '30%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        transform: 'translate(-50%, -50%)',\r\n    },\r\n};\r\n\r\nfunction Login() {\r\n    const [modalIsOpen, setIsOpen] = React.useState(false); //Modal\r\n    const [isChecked, setIsChecked] = useState(false);\r\n    const [errors, setErrors] = useState();\r\n    const history = useHistory();\r\n    const [state, setState] = useState(\r\n        {\r\n            email: '',\r\n            password: '',\r\n        }\r\n    );\r\n\r\n    useEffect(() => {\r\n        setErrors({\r\n            email: 'The email is required.',\r\n            password: 'The password field is required.'})\r\n    }, [])\r\n\r\n    const requiredWith = (value, field, state) => (!state[field] && !value) || !!value;\r\n\r\n    const rules = [\r\n        {\r\n            field: 'email',\r\n            method: 'isEmpty',\r\n            validWhen: false,\r\n            message: 'The email field is required.',\r\n        },\r\n        {\r\n            field: 'email',\r\n            method: 'isEmail',\r\n            validWhen: true,\r\n            message: 'The email must be a valid email address.',\r\n        },\r\n        {\r\n            field: 'password',\r\n            method: 'isEmpty',\r\n            validWhen: false,\r\n            message: 'The password field is required.',\r\n        },\r\n        {\r\n            field: 'password',\r\n            method: 'isLength',\r\n            args: [{min: 8}],\r\n            validWhen: true,\r\n            message: 'The password must be at least 8 characters.',\r\n        },\r\n    ];\r\n    var validator = new Validator(rules);\r\n\r\n    const handleChange = (val) => {\r\n        setState({\r\n            ...state,\r\n            [val.target.name]: val.target.value,\r\n        });\r\n        setErrors(validator.validate({\r\n            ...state,\r\n            [val.target.name]: val.target.value,\r\n        }))\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        var isValidated = true;\r\n        console.log(errors);\r\n\r\n        if (Object.entries(errors).length === 0){\r\n            const res = await AuthService.login(state.email, state.password);\r\n            console.log(res.message)\r\n\r\n            if(JSON.stringify(res.message) == \"\\\"LOGIN_SUCCESS\\\"\") {\r\n                toast.success(\"Login successfully! \",{\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                setTimeout(() => {\r\n                    history.push({\r\n                        pathname: '/discover',\r\n                        //headers: authHeader(),\r\n                    });\r\n                    window.location.reload()\r\n                }, 1000);\r\n            }\r\n            else if((JSON.stringify(res.message) == \"\\\"INCORECT_PASSWORD\\\"\" || JSON.stringify(res.message) == \"\\\"INCORECT_EMAIL\\\"\")){\r\n                openModal();\r\n            }\r\n        }\r\n        else {\r\n            if (errors.email !== '' ){\r\n                toast.error(errors.email,{\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                isValidated = false;\r\n                console.log('email');\r\n            }\r\n            if (errors.password !== ''){\r\n                toast.error(errors.password,{\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                isValidated = false;\r\n                console.log('password');\r\n            }\r\n        }\r\n    }\r\n\r\n    //Modal function\r\n    function openModal() {\r\n        setIsOpen(true);\r\n    }\r\n\r\n    function closeModal() {\r\n        setIsOpen(false);\r\n    }\r\n\r\n    return(\r\n        <div className='yellow-background signup'>\r\n            <Modal\r\n                isOpen={modalIsOpen}\r\n                onRequestClose={closeModal}\r\n                style={customStyles}\r\n            >\r\n                <h1>Error</h1>\r\n                <div className=\"line\"></div>\r\n                <div style={{marginBottom: '30px', marginTop: '30px', fontFamily: 'Montserrat', fontSize: '22px'}}>Your email or password is not correct! Please try again.</div>\r\n                <div className=\"line\"></div>\r\n                <button className=\"btn btn-primary btn-lg button-center\" onClick={closeModal}>OK</button>\r\n            </Modal>\r\n            <ToastContainer/>\r\n            <div className='dialog-bg center'>\r\n                <div className='signup-background'>\r\n                    <img src='./images/login.png'></img>\r\n                </div>\r\n                <div>\r\n                    <div className='block-center'>\r\n                        <div>\r\n                            <img src='./images/Logo.png'></img>\r\n                        </div>\r\n                        <div>\r\n                            <h4 style={{marginRight: '20px'}}><Link to='#' style={{textDecoration: 'none', color: '#FCBD10'}}>Login </Link> &nbsp;&nbsp;\r\n                                <Link to='/signup' style={{textDecoration: 'none', color: 'black'}}>Signup</Link></h4>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='signup-form'>\r\n\r\n                        <h1 className='title'>LOG IN</h1>\r\n                        <h5 className='subtitle'>Don't have an account? {' '}\r\n                            <Link to='/signup' style={{color: '#FCBD10'}}>Sign up</Link></h5>\r\n\r\n                        <div className=\"form-group input-icons\">\r\n                            <i className=\"fa fa-envelope-o icon fa-2x\" aria-hidden=\"true\"></i>\r\n                            <input type=\"text\" className=\"form-control input input-field\" name=\"email\" id=\"email\" placeholder=\"Email\" onChange={handleChange}/>\r\n                            <i className=\"fas fa-lock  icon fa-2x\"></i>\r\n                            <input type=\"password\" className=\"form-control input input-field\" name=\"password\" id=\"password\" placeholder=\"Password\" onChange={handleChange}/>\r\n\r\n                            <div className=\"remember-checkbox\" onClick={() => setIsChecked(!isChecked)}>\r\n                                <input className=\"checkbox\" type=\"checkbox\" checked={isChecked} />\r\n                                <h6><div className=\"checkbox-text\">Remember me?</div></h6>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button type=\"button\" className=\"btn btn-primary btn-lg button-center\" onClick={handleSubmit}>Login</button>\r\n                        <h6 className=\"subtitle forgot-pass\"><Link to='/forgot-password' style={{color: 'grey'}}>Forgot your password?</Link></h6>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component, useState, useEffect } from 'react';\r\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport { ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport AuthService from '../../api-services/auth-service';\r\n\r\nfunction Verify(){\r\n    const location = useLocation();\r\n    console.log(location.state); //NOTE: Nu cn email gi location.state\r\n\r\n    const [state, setState]  = useState();\r\n\r\n    const handleChange = (evt) => {\r\n        const value = evt.target.value;\r\n        setState({\r\n            ...state,\r\n            [evt.target.name]: value,\r\n        });\r\n    };\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const res = await AuthService.verifyCode(location.state, state.verifyCode);\r\n        if(JSON.stringify(res.message) == \"\\\"VERIFY_ACCOUNT_SUCCESS\\\"\") {\r\n            toast.success(\"Signup successfully  Redirecting...\",{\r\n                position: toast.POSITION.BOTTOM_LEFT});\r\n            setTimeout(() => {\r\n                history.push({\r\n                    pathname: '/login',\r\n                });\r\n            }, 3000);\r\n        }\r\n        else{\r\n            toast.error(\"Verify code is not true!\",{\r\n                position: toast.POSITION.BOTTOM_LEFT\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const handleResendCode = async (e) => {\r\n        e.preventDefault();\r\n        const res = await AuthService.resendCode(location.state);\r\n        if(JSON.stringify(res.message) == \"\\\"RESEND_VERIFY_CODE_SUCCESS\\\"\") {\r\n            toast.success(\"A new code has been resent!\",{\r\n                position: toast.POSITION.BOTTOM_LEFT\r\n            });\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className='yellow-background signup'>\r\n            <ToastContainer />\r\n            <div className='dialog-bg-verify'>\r\n                <div className='signup-background'>\r\n                    <img src='./images/sign-up.png' ></img>\r\n                </div>\r\n                <div>\r\n                    <div className='block-center'>\r\n                        <div>\r\n                            <img src='./images/Logo.png'></img>\r\n                        </div>\r\n                        <div>\r\n                            <h4 style={{marginRight:'20px'}}><Link to='/login'  style={{ textDecoration: 'none', color:'black'}}>Login </Link> &nbsp;&nbsp;\r\n                                <Link to='signup'  style={{ textDecoration: 'none', color:'#FCBD10'}}>Signup</Link> </h4>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='signup-form'>\r\n                        <h1 className='title'>SIGN UP</h1>\r\n                        <h5 className='subtitle'>Already have an account? {' '}\r\n                            <Link to ='/login' style={{color:'#FCBD10'}}>Log in</Link></h5>\r\n\r\n                        <div className=\"blank\"></div>\r\n                        <div className=\"form-group input-icons\">\r\n                            <input type=\"text\" className=\"form-control input input-field\" name=\"verifyCode\"\r\n                                   id=\"verifyCode\" placeholder=\"Verify code\" onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"blank\"></div>\r\n                        <div className=\"blank\"></div>\r\n                        <button type=\"button\" class=\"btn btn-primary btn-lg button-center\" onClick={handleSubmit}>Verify</button>\r\n                        <h6 className=\"subtitle forgot-pass\"\r\n                            style={{color: 'grey', marginTop: '40px', cursor: 'pointer'}}\r\n                            onClick={handleResendCode}\r\n                        >Resend a verify passcode</h6>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Verify;\r\n","import React, { Component, useState, useEffect } from 'react';\r\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport { ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport AuthService from '../../api-services/auth-service';\r\n\r\nfunction ForgotPassword(){\r\n    const [state, setState]  = useState({\r\n        email: '',\r\n    });\r\n\r\n    const handleChange = (evt) => {\r\n        const value = evt.target.value;\r\n        setState({\r\n            ...state,\r\n            [evt.target.name]: value,\r\n        });\r\n    };\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const res = await AuthService.forgotPassword(state.email);\r\n        if(JSON.stringify(res.message) == \"\\\"FORGOT_PASSWORD_SUCCESS\\\"\") {\r\n                history.push({\r\n                    pathname: '/new-password',\r\n                    state: state.email,\r\n                });\r\n        }\r\n        else if (JSON.stringify(res.message) == \"\\\"EMAIL_NOT_FOUND\\\"\"){\r\n            toast.error(\"Email is not found!\",{\r\n                position: toast.POSITION.BOTTOM_LEFT\r\n            });\r\n        }\r\n        else {\r\n            toast.error(\"Email is not valid!\",{\r\n                position: toast.POSITION.BOTTOM_LEFT\r\n            });\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className='yellow-background signup'>\r\n            <ToastContainer />\r\n            <div className='dialog-bg-verify'>\r\n                <div className='signup-background'>\r\n                    <img src='./images/reset-pass.png' ></img>\r\n                </div>\r\n                <div>\r\n                    <div className='block-center'>\r\n                        <div>\r\n                            <img src='./images/Logo.png'></img>\r\n                        </div>\r\n                        <div>\r\n                            <h4 style={{marginRight:'20px'}}><Link to='/login'  style={{ textDecoration: 'none', color:'black'}}>Login </Link> &nbsp;&nbsp;\r\n                                <Link to='/signup'  style={{ textDecoration: 'none', color:'black'}}> Signup</Link> </h4>\r\n                        </div>\r\n                    </div>\r\n                    <div className='signup-form'>\r\n                        <h1 className='title'>Forgot password</h1>\r\n\r\n                        <div className=\"blank\"></div>\r\n                        <div className=\"form-group input-icons\">\r\n                            <input type=\"text\" className=\"form-control input\" name=\"email\"\r\n                                   id=\"email\" placeholder=\"Enter your email\" onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"blank\"></div>\r\n                        <div className=\"blank\"></div>\r\n                        <button type=\"button\" class=\"btn btn-primary btn-lg button-center\" onClick={handleSubmit}>Send</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ForgotPassword;\r\n","import React, { Component, useEffect } from 'react';\r\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport { useState } from 'react';\r\nimport { ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Validator from '../../services/validator';\r\nimport AuthService from '../../api-services/auth-service';\r\nimport axios from 'axios';\r\nimport Modal from \"react-modal\";\r\n\r\nconst customStyles = {\r\n    content: {\r\n        width: '700px',\r\n        top: '30%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        transform: 'translate(-50%, -50%)',\r\n    },\r\n};\r\n\r\nfunction NewPassword(){\r\n    const [state, setState] = useState(\r\n        {\r\n            code: '',\r\n            newPassword: '',\r\n        }\r\n    );\r\n    const [errors, setErrors] = useState();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        setErrors({\r\n            code: 'The code field is required.',\r\n            newPassword: 'The password field is required.'})\r\n    }, [])\r\n\r\n\r\n    const rules = [\r\n        {\r\n            field: 'code',\r\n            method: 'isEmpty',\r\n            validWhen: false,\r\n            message: 'The code field is required.',\r\n        },\r\n        {\r\n            field: 'newPassword',\r\n            method: 'isEmpty',\r\n            validWhen: false,\r\n            message: 'The password field is required.',\r\n        },\r\n        {\r\n            field: 'newPassword',\r\n            method: 'isLength',\r\n            args: [{min: 8}],\r\n            validWhen: true,\r\n            message: 'The password must be at least 8 characters.',\r\n        },\r\n    ];\r\n    var validator = new Validator(rules);\r\n\r\n    const handleChange = (evt) => {\r\n        const value = evt.target.value;\r\n        setState({\r\n            ...state,\r\n            [evt.target.name]: value,\r\n        });\r\n        setErrors(validator.validate({\r\n            ...state,\r\n            [evt.target.name]: value,\r\n        }))\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        var isValidated = true;\r\n\r\n        if (Object.entries(errors).length === 0){\r\n            const res = await AuthService.resetPassword(location.state, state.code, state.newPassword);\r\n            console.log(res.message);\r\n            if(JSON.stringify(res.message) == \"\\\"RESET_PASSWORD_SUCCESS\\\"\") {\r\n                toast.success(\"Reset password successfully  Redirecting...\",{\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                setTimeout(() => {\r\n                    history.push({\r\n                        pathname: '/login',\r\n                    });\r\n                }, 3000);\r\n            }\r\n            else if(JSON.stringify(res.message) == \"\\\"INVALID_CODE\\\"\"){\r\n                toast.error(\"Invalid code!\",{\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if (errors.code !== ''){\r\n                toast.error(errors.code,{\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                isValidated = false;\r\n                console.log('code');\r\n            }\r\n            if (errors.newPassword !== '' ){\r\n                toast.error(errors.newPassword,{\r\n                    position: toast.POSITION.BOTTOM_LEFT\r\n                });\r\n                isValidated = false;\r\n                console.log('newPassword');\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleResendCode = async (e) => {\r\n        e.preventDefault();\r\n        const res = await AuthService.resendPasswordCode(location.state);\r\n        if(JSON.stringify(res.message) == \"\\\"RESEND_PASSWORD_CODE_SUCCESS\\\"\") {\r\n            toast.success(\"A new code has been resent!\",{\r\n                position: toast.POSITION.BOTTOM_LEFT\r\n            });\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className='yellow-background signup'>\r\n            <ToastContainer />\r\n            <div className='dialog-bg center'>\r\n                <div className='signup-background'>\r\n                    <img src='./images/new-pass.png' ></img>\r\n                </div>\r\n                <div>\r\n                    <div className='block-center'>\r\n                        <div>\r\n                            <img src='./images/Logo.png'></img>\r\n                        </div>\r\n                        <div>\r\n                            <h4 style={{marginRight:'20px'}}><Link to='/login'  style={{ textDecoration: 'none', color:'black'}}>Login </Link> &nbsp;&nbsp;\r\n                                <Link to='/signup'  style={{ textDecoration: 'none', color:'black'}}>Signup</Link> </h4>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='signup-form'>\r\n                        <h1 className='title'>RESET PASSWORD</h1>\r\n\r\n                        <div className=\"form-group input-icons\">\r\n                            <i class=\"fa fa-envelope-o icon fa-2x\" aria-hidden=\"true\"></i>\r\n                            <input type=\"text\" className=\"form-control input input-field\" value={location.state} name=\"email\"\r\n                                   id=\"email\" placeholder=\"Email\" onChange={handleChange}/>\r\n                            <i class=\"fa fa-user-o icon fa-2x\" aria-hidden=\"true\"></i>\r\n                            <input type=\"text\" className=\"form-control input input-field\" name=\"code\"\r\n                                   id=\"code\" placeholder=\"Code\" onChange={handleChange}/>\r\n                            <i class=\"fas fa-lock  icon fa-2x\"></i>\r\n                            <input type=\"password\" className=\"form-control input input-field\" name=\"newPassword\"\r\n                                   id=\"newPassword\" placeholder=\"New password\" onChange={handleChange}/>\r\n                        </div>\r\n\r\n                        <button type=\"button\" class=\"btn btn-primary btn-lg button-center\" onClick={handleSubmit}>RESET PASSWORD</button>\r\n                        <h6 className='subtitle forgot-pass'\r\n                            style={{color: 'grey', marginTop: '20px', cursor: 'pointer'}}\r\n                            onClick={handleResendCode}\r\n                        >Resend a new code</h6>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NewPassword;\r\n","import jwtDecode from \"jwt-decode\";\r\nclass LocalStorageService{\r\n    static get userID(){\r\n        let token = LocalStorageService.token;\r\n        if (token === \"\") return \"\";\r\n        // let token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxNmNjYTgwMThmNDUxMDU3YTQ0NmZmMiIsInNjb3BlIjoiVVNFUiIsImlhdCI6MTYzNDkxOTMxMCwiZXhwIjoxNjM1NTI0MTEwfQ.rUaiS0z4ziAueR7nbJC8SicbpInDQi2Aelo6BKaBVts\";\r\n        const user = jwtDecode(token);\r\n        return user.id;\r\n    }\r\n\r\n    static get token(){\r\n        return localStorage.getItem('accessToken');\r\n    }\r\n\r\n    static get username(){\r\n        return localStorage.getItem('username');\r\n    }\r\n\r\n    static get bookID(){\r\n        return localStorage.getItem('bookID');\r\n    }\r\n}\r\n\r\nexport default LocalStorageService\r\n","import { useHistory } from \"react-router-dom\";\r\nimport LocalStorageService from \"../services/localStorage\";\r\nfunction Homepage()\r\n{\r\n    const history = useHistory(); \r\n\r\n    const isLoggedIn = () => {\r\n        //   return true\r\n          return (LocalStorageService.token !==\"\" &&  LocalStorageService.token !==null );\r\n      }\r\n\r\n    const gotoSignUp = () => {\r\n        history.push('/signup'); \r\n    }\r\n\r\n    const gotoPayment = () => {\r\n\r\n    }\r\n\r\n    const gotoDiscover = () => {\r\n        history.push('/discover');\r\n    }\r\n\r\n    const handleGetStarted = () => {\r\n        if (isLoggedIn() === true)\r\n           gotoDiscover(); \r\n        else \r\n            gotoSignUp(); \r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <nav className=\"navbar d-inline-flex\">  \r\n                <div className=\"text\"> \r\n                    <p className=\"nav-text\">Subcribe to emotion and knowledge, to balance</p>\r\n                    <p className=\"nav-text\">  and critical thinking, to the pleasure that</p>\r\n                        <p className=\"nav-text\">only reading can provide</p>\r\n                        <input type=\"button\" className=\"btn-start\"value=\"Get started\" onClick={handleGetStarted}/>\r\n                </div>\r\n            </nav>\r\n            <br/>\r\n            <br/>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-7 col-sm-6 col-xs-12\">\r\n                        <div className=\"sub\">\r\n                            <h1>Get immediate access to books, audiobooks, magazines and more for just $8.99/month</h1>\r\n                            <div className='blank'></div>\r\n                            <input type=\"button\" className=\"btn-sub\" value=\"Subcribe now\" onClick={gotoPayment}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-5 col-sm-6 col-xs-12\">\r\n                        <img className=\"img-body\" src=\"./images/ebook-thumb.png\" alt=\"\"/>\r\n                    </div>\r\n                </div>   \r\n            </div>\r\n        </div>\r\n    ); \r\n\r\n}\r\nexport default Homepage","\r\nexport default function authHeader() {\r\n    const accessToken = localStorage.getItem('accessToken');\r\n  \r\n    if (accessToken) {\r\n       return {Authorization: accessToken}; \r\n      return {};\r\n    }\r\n  }","import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\n\r\nconst API_URL = \"https://nice-book.herokuapp.com/api/v1/users/\";\r\n\r\nclass ProfileService{\r\n    getProfileUser(userID){\r\n        return axios.get(API_URL + userID, {headers: authHeader()})\r\n    }\r\n\r\n    editProfileUser(userID, username, email, fullname, avatar, DoB, gender, phone, address, payment, password){\r\n        return axios.put(API_URL + userID, {\r\n            username,\r\n            email,\r\n            fullname,\r\n            avatar,\r\n            DoB,\r\n            gender,\r\n            phone,\r\n            address,\r\n            payment,\r\n            password\r\n        }, {headers: authHeader()})\r\n            .then(res => {\r\n                    return res.data;\r\n                }, error => {\r\n                    return error.response.data;\r\n                }\r\n            )\r\n    }\r\n}\r\n\r\nexport default new ProfileService;\r\n","function Divider(prop)\r\n{\r\n    return(\r\n        <div className=\"d-container\">\r\n            <span className=\"d-content\">\r\n                {prop.children}\r\n            </span>\r\n            <div className=\"d-border\" />\r\n        </div>\r\n    );\r\n}\r\nexport default Divider;\r\n","import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\n\r\nconst API_URL = \"https://nice-book.herokuapp.com/api/v1/users/\";\r\n\r\nclass BookListService{\r\n    getReadings(userID){\r\n        // return axios.get(API_URL + userID + \"/books/reading\"); \r\n        //if header is necessary, uncomment this code\r\n        return axios.get(API_URL + userID + \"/books/reading\", {headers: authHeader()}); \r\n    }\r\n\r\n    getFavourites(userID){\r\n        return axios.get(API_URL + userID + \"/books/favorites\", {headers: authHeader()}); \r\n    }\r\n\r\n    getReadLater(userID){\r\n        return axios.get(API_URL + userID + \"/books/read-after\", {headers: authHeader()}); \r\n    }\r\n}\r\n\r\nexport default new BookListService; ","import { Link } from \"react-router-dom\";\r\nfunction BookThumbnail(prop){\r\n    return(\r\n        <div className='book-thumbnail-container'>\r\n            <div className=\"card book-card \" >\r\n                <img className=\"card-img-top image-thumbnail \" src={prop.image} alt=\"Card image\"/>\r\n                <div className=\"card-body\" style={{whiteSpace:'nowrap'}}>\r\n                    <h4 className=\"card-title email-row\">{prop.bookName}</h4>\r\n                    <p className=\"card-text email-row \">Author: {prop.author}</p>\r\n                    <Link to={\"/books/\" + prop.id} className=\"btn btn-primary\">View Book</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ); \r\n}\r\n\r\nexport default BookThumbnail; ","import { useEffect, useState } from \"react\";\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport ProfileService from \"../../api-services/profile-service\";\r\nimport Divider from \"../../components/divider\";\r\nimport moment from \"moment\";\r\nimport LocalStorageService from \"../../services/localStorage\";\r\nimport BookListService from \"../../api-services/book-list\";\r\nimport BookThumbnail from \"../../components/book-thumbnail\";\r\n\r\n\r\nfunction UserProfile()\r\n{\r\n    //NOTE: For API: After login, store userID in localStorage and uncomment the line below\r\n    // var userID = '616cca8018f451057a446ff2';\r\n\r\n    const defaultAvatar = 'https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg';\r\n\r\n    //NOTE: FOR API: This is mock userID, you should comment it and user the above code\r\n    const history = useHistory();\r\n    var userID = LocalStorageService.userID;\r\n\r\n    const [userState, setUser] = useState({\r\n        fullname: '',\r\n        gender: \"\", //NOTE: Gender: 0 -> male, 1 -> Female\r\n        DoB: '',\r\n        phone: '',\r\n        address: '',\r\n        email: '',\r\n        payment: '',\r\n        avatar: ''\r\n    })\r\n\r\n    const handleEdit = () => {\r\n        history.push({\r\n            pathname: '/profile/edit',\r\n        });\r\n    }\r\n\r\n    let mockReading = ['https://images-na.ssl-images-amazon.com/images/I/71wdVdp0ncL.jpg',\r\n    'https://images-na.ssl-images-amazon.com/images/I/81FOFfskpYL.jpg',\r\n    'https://images-na.ssl-images-amazon.com/images/I/A1hlZpwiF7L.jpg',\r\n    'https://nhasachphuongnam.com/images/detailed/182/81E1TXOrpML.jpg',\r\n    'https://images-na.ssl-images-amazon.com/images/I/71rL00TgB0L.jpg'];\r\n\r\n    const [readingState, setReading] = useState();\r\n    const [favouriteState, setFavourite] = useState();\r\n    const [laterState, setLater] = useState();\r\n\r\n     //TODO: Check API code here\r\n     useEffect(() => {\r\n        ProfileService.getProfileUser(userID).then(response => {\r\n            setUser(response.data)\r\n        })\r\n        .catch(err => console.log(err))\r\n        BookListService.getReadings(userID).then(response => {\r\n            let bookListData = response.data.reading; \r\n            let smallList = bookListData.slice(0, 5); \r\n            var listBookThumb = smallList.map((book) => \r\n                <div className='book-container'>\r\n                    <img src={book.image} className='book-image'></img>\r\n                </div>\r\n            )\r\n            setReading(listBookThumb); \r\n        })\r\n        .catch(err => console.log(err))\r\n\r\n        BookListService.getFavourites(userID).then(response => {\r\n            let bookListData = response.data.favorites; \r\n            let smallList = bookListData.slice(0, 5); \r\n            var listBookThumb = smallList.map((book) => \r\n                <div className='book-container'>\r\n                    <img src={book.image} className='book-image'></img>\r\n                </div>\r\n            )\r\n            setFavourite(listBookThumb); \r\n        })\r\n        .catch(err => console.log(err))\r\n\r\n        BookListService.getReadLater(userID).then(response => {\r\n            let bookListData = response.data.readLater; \r\n            console.log(bookListData); \r\n            let smallList = bookListData.slice(0, 5); \r\n            var listBookThumb = smallList.map((book) => \r\n                <div className='book-container'>\r\n                    <img src={book.image} className='book-image'></img>\r\n                </div>\r\n            )\r\n            setLater(listBookThumb); \r\n        })\r\n        .catch(err => console.log(err))\r\n    }, [])\r\n\r\n    // const listReading = readingState.map((bookImg) =>\r\n    //     <div className='book-container'>\r\n    //         <img src={bookImg} className='book-image'></img>\r\n    //     </div>\r\n    // )\r\n\r\n    // const listFavourite = favouriteState.map((bookImg) =>\r\n    //     <div className='book-container'>\r\n    //         <img src={bookImg} className='book-image'></img>\r\n    //     </div>\r\n    // )\r\n\r\n    // const listLater = laterState.map((bookImg) =>\r\n    //     <div className='book-container'>\r\n    //         <img src={bookImg} className='book-image'></img>\r\n    //     </div>\r\n    // )\r\n\r\n    return(\r\n        <div>\r\n\r\n            <div class=\"row profile-row\">\r\n                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                    <div className='profile-col'>\r\n                        <div>\r\n                            <img className='profile-avatar' src={userState.avatar === '' || typeof userState.avatar ==='undefined' ? defaultAvatar : userState.avatar}></img>\r\n                        </div>\r\n                        <div className='blank'></div>\r\n                        <Divider>PROFILE</Divider>\r\n                        <div className='blank15'></div>\r\n                        <div className='block-center' style={{padding:0}}>\r\n                            <div className='profile-fullname'>{userState.fullname}</div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg p-edit-button\" onClick={handleEdit}>Edit</button>\r\n                        </div>\r\n                        <div className='profile-id'>#{userID.substr(userID.length - 4, 4)}</div>\r\n                        <div className='profile-info'>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Birthday: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{moment(userState.DoB).format(\"DD MMMM, YYYY\")} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Gender: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.gender}</h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Phone: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.phone} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Address: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.address} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row  email-row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Email: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.email}</h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Payment: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.payment}</h6>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-xs-9 col-sm-9 col-md-9 col-lg-9 profile-books-col\">\r\n                    <div>\r\n                        <div className='block-center' style={{padding:0}}>\r\n                            <div className='book-row-title'>Reading</div>\r\n                            <Link to='/profile/readings' style={{fontFamily: '\"Montserrat\", sans-serif', color:'black'}}>See more {\">>>\"} </Link>\r\n                        </div>\r\n                        <div className='blank20'></div>\r\n                        <div className='book-row'>\r\n                            {readingState}\r\n                        </div>\r\n\r\n                        <div className='blank20'></div>\r\n\r\n                        <div className='block-center' style={{padding:0}}>\r\n                            <div className='book-row-title'>Favourite</div>\r\n                            <Link to='/profile/favourites' style={{fontFamily: '\"Montserrat\", sans-serif', color:'black'}}>See more {\">>>\"} </Link>\r\n                        </div>\r\n                        <div className='blank20'></div>\r\n                        <div className='book-row'>\r\n                            {favouriteState}\r\n                        </div>\r\n\r\n                        <div className='blank20'></div>\r\n\r\n                        <div className='block-center' style={{padding:0}}>\r\n                            <div className='book-row-title'>Read later</div>\r\n                            <Link to='/profile/read-later' style={{fontFamily: '\"Montserrat\", sans-serif', color:'black'}}>See more {\">>>\"} </Link>\r\n                        </div>\r\n                        <div className='blank20'></div>\r\n                        <div className='book-row'>\r\n                            {laterState}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserProfile;\r\n","import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\n\r\nconst API_URL = \"https://nice-book.herokuapp.com/api/v1/medias/\";\r\n\r\nclass UploadImageService {\r\n    async uploadImage (item) {\r\n        return await axios.post(API_URL + \"upload\",\r\n            item, {headers: authHeader()}\r\n        ).then(res => {\r\n                return res.data.body[0];\r\n            }, error => {\r\n                console.log(error.response.data)\r\n                return error.response.data;\r\n            })\r\n    }\r\n}\r\n\r\nexport default new UploadImageService;\r\n","import React, {useEffect, useState} from 'react';\r\nimport ProfileService from '../../api-services/profile-service';\r\nimport LocalStorageService from \"../../services/localStorage\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport UploadImageService from '../../api-services/upload-image-service';\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction EditProfile() {\r\n    const [imageSelected, setImageSelected] = useState(\"\");\r\n    //const [avatar, setAvatar] = useState();\r\n    const [user, setUser] = useState({\r\n        username: '',\r\n        fullname: '',\r\n        avatar: '',\r\n        gender: '',\r\n        DoB: '',\r\n        phone: '',\r\n        address: '',\r\n        email: '',\r\n        payment: '',\r\n    });\r\n    const history = useHistory();\r\n    const userID = LocalStorageService.userID;\r\n    const defaultAvatar = 'https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg';\r\n\r\n    useEffect(() => {\r\n        ProfileService.getProfileUser(userID).then(response => {\r\n            setUser(response.data);\r\n        })\r\n            .catch(err => console.log(err))\r\n    }, [])\r\n\r\n    const handleChange = (val) => {\r\n        setUser({\r\n            ...user,\r\n            [val.target.name]: val.target.value,\r\n        });\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        console.log(user.gender)\r\n        if(user.gender != 'FEMALE' && user.gender != 'MALE' && user.gender !== undefined && user.gender != '') {\r\n            toast.error(\"Gender must be FEMALE or MALE.\",{position: toast.POSITION.BOTTOM_LEFT});\r\n        }\r\n        else {\r\n            const res = ProfileService.editProfileUser(userID, user.username, user.email, user.fullname, user.avatar, user.DoB, user.gender, user.phone, user.address, user.payment);\r\n            console.log(res)\r\n            history.push({\r\n                pathname: '/profile',\r\n            });\r\n        }\r\n    }\r\n\r\n    const makeid = (length) => {\r\n        var result = '';\r\n        var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n        var charactersLength = characters.length;\r\n        for (var i = 0; i < length; i++) {\r\n            result += characters.charAt(Math.floor(Math.random() *\r\n                charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    const handleUpload = async () => {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", imageSelected);\r\n        formData.append(\"upload_preset\", \"q6itp6nm\");\r\n        let imageName = makeid(10);\r\n        formData.append(\"public_id\", imageName)\r\n\r\n        if(imageSelected.name != null && (imageSelected.name.slice(-3) == \"jpg\" || imageSelected.name.slice(-3) == \"png\")) {\r\n            toast.info(\"Uploading...\",{position: toast.POSITION.BOTTOM_LEFT});\r\n            imageName += \".\" + imageSelected.name.slice(-3);\r\n            await axios.post(\"https://api.cloudinary.com/v1_1/dzdq5mium/image/upload\", formData\r\n            ).then((response) => {\r\n                console.log(response)\r\n                if (imageName != \"\") {\r\n                    const link = \"https://res.cloudinary.com/dzdq5mium/image/upload/v1635087942/\" + imageName;\r\n                    console.log(user.avatar)\r\n                    setUser({...user, avatar: link})\r\n                    imageName = \"\";\r\n                    if(response) {toast.success(\"Upload image successfully...\",{position: toast.POSITION.BOTTOM_LEFT});}\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            toast.error(\"Please choose correct type (jpg, png).\",{position: toast.POSITION.BOTTOM_LEFT});\r\n        }\r\n        console.log(user)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ToastContainer />\r\n            <div className=\"row profile-row\">\r\n                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                    <div className='profile-col'>\r\n                        <div>\r\n                            <img className='profile-avatar' src={user.avatar === '' || typeof user.avatar ==='undefined' ? defaultAvatar : user.avatar}></img>\r\n                        </div>\r\n                        <div style={{display: 'flex', flexDirection: 'row', marginTop: '20px'}}>\r\n                            <input type=\"file\" accept=\"image/png, image/jpg\"  style={{border: '1px solid grey'}} onChange={(event) => setImageSelected(event.target.files[0])}  className=\"custom-file-input\"/>\r\n                            <button onClick={handleUpload} style={{backgroundColor: '#ffc700', border: '1px solid grey'}}>Upload</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-xs-9 col-sm-9 col-md-9 col-lg-9 edit-profile\" style={{display: 'flex', flexDirection: 'column'}}>\r\n                    <h1>PROFILE SETTING</h1>\r\n                    <div style={{border: '1px solid black'}}></div>\r\n                    <div className=\"inf-element\" style={{marginTop: '10px'}}>\r\n                        <div>\r\n                            <p className=\"inf-label-text\">ID:</p>\r\n                            <p className=\"inf-label-text\">Username:</p>\r\n                            <p className=\"inf-label-text\">Full name:</p>\r\n                            <p className=\"inf-label-text\">Birth day:</p>\r\n                            <p className=\"inf-label-text\">Gender:</p>\r\n                            <p className=\"inf-label-text\">Phone:</p>\r\n                            <p className=\"inf-label-text\">Address:</p>\r\n                            <p className=\"inf-label-text\">Email:</p>\r\n                            <p className=\"inf-label-text\">Payment:</p>\r\n                        </div>\r\n                        <div style={{width: '90%'}}>\r\n                        <input className=\"inf-input form-control\" type=\"text\" name=\"ID\" value={userID} readOnly/>\r\n                            <input className=\"inf-input form-control\" type=\"text\" name=\"username\" value={user.username}  onChange={handleChange} readOnly></input>\r\n                            <input className=\"inf-input form-control\" type=\"text\" name=\"fullname\" value={user.fullname} onChange={handleChange}/>\r\n                            <input className=\"inf-input form-control\" type=\"date\" name=\"DoB\" value={user.DoB == null ? user.DoB : user.DoB.slice(0,10)} onChange={handleChange}/>\r\n                            <input className=\"inf-input form-control\" type=\"text\" placeholder=\"Only FEMALE or MALE\" name=\"gender\" value={user.gender} onChange={handleChange}/>\r\n                            <input className=\"inf-input form-control\" type=\"text\" name=\"phone\" value={user.phone} onChange={handleChange}/>\r\n                            <input className=\"inf-input form-control\" type=\"text\" name=\"address\" value={user.address} onChange={handleChange}/>\r\n                            <input className=\"inf-input form-control\" type=\"text\" name=\"email\" value={user.email} onChange={handleChange} readOnly/>\r\n                            <input className=\"inf-input form-control\" type=\"text\" name=\"payment\" value={user.payment} onChange={handleChange}/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button type=\"button\" className=\"btn btn-primary btn-lg edit-button\" onClick={handleSubmit}>SAVE</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default EditProfile;\r\n","import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\n\r\nconst API_URL = \"https://nice-book.herokuapp.com/api/v1/books\";\r\n\r\nclass BookService {\r\n    async getDetailBook (id) {\r\n        return await axios.get(API_URL + \"/\" + id);\r\n    }\r\n\r\n    async searchBook (val) {\r\n        const filter = JSON.stringify(val)\r\n        console.log(JSON.stringify(filter))\r\n        return await axios.get(API_URL + \"?filter=\" + JSON.stringify(filter)\r\n        ).then(res => {\r\n            return res.data.docs;\r\n        }, error => {\r\n            return error.response.data;\r\n        })\r\n    }\r\n\r\n    async getAllGenres() {\r\n        return await axios.get(API_URL + \"/genres\")  \r\n    }\r\n\r\n    async getNewReleaseBook(val) {\r\n        const newRelBook = JSON.stringify(val)\r\n        //return await axios.get(API_URL + \"?orderBy=-publication\" + \"&filter=\" + JSON.stringify(newRelBook))\r\n        return await axios.get(API_URL + \"?limit=10\" + \"&orderBy=-publicationDate\")\r\n    }\r\n\r\n    async getTopBook() {\r\n        return await axios.get(API_URL + \"?limit=10\" + \"&orderBy=-trending\")\r\n    }\r\n}\r\n\r\nexport default new BookService;","import { useEffect, useState } from \"react\";\r\nimport {Link} from 'react-router-dom';\r\nimport BookService from \"../api-services/book-service\";\r\n\r\nfunction HeaderBook() {\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    useEffect(() => {\r\n        BookService.getAllGenres().then(response => {\r\n            let genres = response.data; \r\n            setCategories(genres);\r\n            console.log(categories) \r\n        })\r\n        .catch(err => console.log(err))\r\n    }, [])\r\n\r\n    const convertCategoryDropDown = (categories) => {\r\n        let dropdownList = categories.map((category) => {\r\n            return <p><Link style={{ textDecoration: 'none', color: 'black'}} to={\"/category/\" + category} >{category}</Link></p>\r\n        }); \r\n        return dropdownList\r\n    }\r\n\r\n    const handleClick = () => {\r\n        window.location.reload()\r\n    }\r\n\r\n    return(\r\n        <header className=\"header-book\">\r\n            <button className=\"btn-header\"><Link to='/discover'  style={{ textDecoration: 'none', color:'black'}}>Discover</Link></button> &nbsp;\r\n            <button className=\"btn-header\"><Link to='/trending'  style={{ textDecoration: 'none', color:'black'}}>Top Books</Link></button> &nbsp;\r\n            <button className=\"btn-header\"><Link to='/new-release'  style={{ textDecoration: 'none', color:'black'}}>New Release</Link></button> &nbsp;\r\n            <button className=\"btn-header\"><Link to='/recommend'  style={{ textDecoration: 'none', color:'black'}}>Recommended</Link></button> &nbsp;\r\n            <div className=\"dropdown\" style={{display: 'flex', flexDirection: 'row'}}>\r\n                <div style={{marginTop: '20px', background: 'white', border: 'none', fontWeight: '600', marginBottom: '20px'}}>Categories</div>\r\n                <div className=\"dropdown-header-book\" onClick={handleClick}>\r\n                    {convertCategoryDropDown(categories)}\r\n                </div>\r\n                <i class=\"fas fa-angle-down\" style={{marginTop: '25px', marginLeft: '10px'}}></i>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default HeaderBook;","import { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport BookService from \"../../api-services/book-service\";\r\nimport HeaderBook from \"../../components/headerBook\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction DetailBook({match}) {\r\n    const defaultBookImage = 'https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg';\r\n    //const history = useHistory(); \r\n    // const bookID = \"617af4bf859d22425a223eda\";\r\n    //TODO: Uncomment this code to get ID from link \r\n    const bookID = match.params.id; \r\n    console.log(bookID)\r\n    const [book, setBook] = useState({\r\n        genres: [],\r\n        ratings: [],\r\n        title: '',\r\n        author: '',\r\n        image: '',\r\n        page: '',\r\n        downloads: '',\r\n        view: '',\r\n        price: '',\r\n        content: '',\r\n        summary: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n        BookService.getDetailBook(bookID).then(res => {\r\n            console.log(res.data)\r\n            setBook(res.data)\r\n        }).catch(error => console.log(error))\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <HeaderBook/>\r\n            <div className=\"row profile-row\">\r\n                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                    <div className='book-col'>\r\n                        <div>\r\n                            <img className='book-image' src={book.image === '' || typeof book.image ==='undefined' ? defaultBookImage : book.image}></img>\r\n                        </div>\r\n                        <button class=\"btn btn-primary btn-lg\" style={{margin: '5px', marginTop: '10px', backgroundColor: '#ffc700', borderColor: '#ffc700'}}><Link to={\"/\" + bookID} style={{color: 'white', textDecoration: 'none'}}>Read</Link></button>\r\n                        <button class=\"btn btn-primary btn-lg\" style={{margin: '5px', backgroundColor: 'white' , color: '#ffc700', borderColor: '#ffc700'}}><Link to={\"/\" + bookID} style={{color: '#ffc700', textDecoration: 'none'}}>Listen to audio</Link></button>\r\n                        <div>\r\n                            <i class=\"far fa-bookmark fa-1x\" style={{marginLeft: '2px'}}></i>\r\n                            <button class=\"btn btn-primary btn-lg\" style={{margin: '5px', backgroundColor: 'white', color: 'black', border: 'none'}}>Save for later</button>\r\n                        </div>\r\n                        <div>\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-download\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z\"/>\r\n                                <path d=\"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z\"/>\r\n                            </svg>\r\n                            <button class=\"btn btn-primary btn-lg\" style={{margin: '5px', backgroundColor: 'white', color: 'black', border: 'none'}}>Download</button>\r\n                        </div>\r\n                        <div>\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-share\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z\"/>\r\n                            </svg>\r\n                            <button class=\"btn btn-primary btn-lg\" style={{margin: '5px', backgroundColor: 'white', color: 'black', border: 'none'}}>To Share</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-xs-9 col-sm-9 col-md-9 col-lg-9 book-detail\" style={{display: 'flex', flexDirection: 'column'}}>\r\n                    <h6 style={{color: '#224362'}}>Home \r\n                        <i class=\"fas fa-angle-right\" style={{marginLeft: '5px', marginRight: '5px'}}></i>\r\n                        Categories \r\n                        <i class=\"fas fa-angle-right\" style={{marginLeft: '5px', marginRight: '5px'}}></i>\r\n                        Art</h6>\r\n                        <h1>{book.title}</h1>\r\n                    <div className=\"author\">\r\n                        Written by:&nbsp;\r\n                        <div className=\"author-name\">{book.author}</div>\r\n                    </div>\r\n                    \r\n                    <div style={{display: 'flex', flexDirection: 'row', color: '#427F93'}}>\r\n                        <div style={{marginRight: '10px', color: '#ffc700'}}>\r\n                            <i class=\"fas fa-star\"></i>\r\n                            <i class=\"fas fa-star\"></i>\r\n                            <i class=\"fas fa-star\"></i>\r\n                            <i class=\"fas fa-star\"></i>\r\n                            <i class=\"fas fa-star\"></i>\r\n                        </div>\r\n                        {book.ratings.length} &nbsp;\r\n                        <p>Ratings</p> &nbsp;\r\n                        <div style={{color: 'grey', marginLeft: '30px'}}>\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-newspaper\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M0 2.5A1.5 1.5 0 0 1 1.5 1h11A1.5 1.5 0 0 1 14 2.5v10.528c0 .3-.05.654-.238.972h.738a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 1 1 0v9a1.5 1.5 0 0 1-1.5 1.5H1.497A1.497 1.497 0 0 1 0 13.5v-11zM12 14c.37 0 .654-.211.853-.441.092-.106.147-.279.147-.531V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5v11c0 .278.223.5.497.5H12z\"/>\r\n                                <path d=\"M2 3h10v2H2V3zm0 3h4v3H2V6zm0 4h4v1H2v-1zm0 2h4v1H2v-1zm5-6h2v1H7V6zm3 0h2v1h-2V6zM7 8h2v1H7V8zm3 0h2v1h-2V8zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1z\"/>\r\n                            </svg> &nbsp;\r\n                            {book.page}\r\n                        </div> &nbsp;\r\n                        <p style={{color: 'grey'}}>pages</p>\r\n                    </div>\r\n                    <div style={{border: '1px solid grey'}}> </div>\r\n                    <div className=\"content-book\">{book.summary}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailBook;","import { useHistory} from \"react-router\";\r\nimport { useEffect , useState } from \"react\";\r\nimport ProfileService from \"../../api-services/profile-service\";\r\nimport Divider from \"../../components/divider\";\r\nimport moment from \"moment\";\r\nimport BookThumbnail from \"../../components/book-thumbnail\";\r\nimport BookListService from \"../../api-services/book-list\";\r\nimport LocalStorageService from \"../../services/localStorage\";\r\nfunction ReadingList(){\r\n\r\n    //NOTE: For API: After login, store userID in localStorage and uncomment the line below\r\n    // var userID = '616cca8018f451057a446ff2';\r\n\r\n    const defaultAvatar = 'https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg';\r\n\r\n    //NOTE: FOR API: This is mock userID, you should comment it and user the above code\r\n    const history = useHistory();\r\n    var userID = LocalStorageService.userID;\r\n\r\n    const [userState, setUser] = useState({\r\n        fullname: '',\r\n        gender: \"\", //NOTE: Gender: 0 -> male, 1 -> Female\r\n        DoB: '',\r\n        phone: '',\r\n        address: '',\r\n        email: '',\r\n        payment: '',\r\n        avatar: ''\r\n    })\r\n\r\n    const [reading, setReading] = useState(); \r\n\r\n\r\n    //TODO: Check API code here\r\n    useEffect(() => {\r\n        ProfileService.getProfileUser(userID).then(response => {\r\n            setUser(response.data)\r\n        })\r\n        .catch(err => console.log(err))\r\n\r\n        BookListService.getReadings(userID).then(response => {\r\n            let bookListData = response.data.reading; \r\n            var listBookThumb = bookListData.map((book) => \r\n                <BookThumbnail id={book._id} bookName={book.title} author={book.author} image={book.image}></BookThumbnail>\r\n            )\r\n            setReading(listBookThumb); \r\n        })\r\n        .catch(err => console.log(err))\r\n        \r\n    }, [])\r\n\r\n    const handleEdit = () => {\r\n        history.push({\r\n            pathname: '/profile/edit',\r\n        });\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <div class=\"row profile-row\">\r\n                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                    <div className='profile-col'>\r\n                        <div>\r\n                            <img className='profile-avatar' src={userState.avatar === '' || typeof userState.avatar ==='undefined' ? defaultAvatar : userState.avatar}></img>\r\n                        </div>\r\n                        <div className='blank'></div>\r\n                        <Divider>PROFILE</Divider>\r\n                        <div className='blank15'></div>\r\n                        <div className='block-center' style={{padding:0}}>\r\n                            <div className='profile-fullname'>{userState.fullname}</div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg p-edit-button\" onClick={handleEdit}>Edit</button>\r\n                        </div>\r\n                        <div className='profile-id'>#{userID.substr(userID.length - 4, 4)}</div>\r\n                        <div className='profile-info'>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Birthday: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{moment(userState.DoB).format(\"DD MMMM, YYYY\")} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Gender: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.gender}</h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Phone: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.phone} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Address: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.address} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row  email-row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Email: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.email}</h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Payment: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.payment}</h6>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-xs-9 col-sm-9 col-md-9 col-lg-9 profile-books-col\">\r\n                    <div>\r\n                        <div className='block-center' style={{padding:0}}>\r\n                            <div className='book-row-title'>Reading</div>\r\n                        </div>\r\n                        <div className='blank20'></div>\r\n                        <div className='book-row'>\r\n                            {reading}                           \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ); \r\n}\r\n\r\nexport default ReadingList; ","import { useHistory} from \"react-router\";\r\nimport { useEffect , useState } from \"react\";\r\nimport ProfileService from \"../../api-services/profile-service\";\r\nimport Divider from \"../../components/divider\";\r\nimport moment from \"moment\";\r\nimport BookThumbnail from \"../../components/book-thumbnail\";\r\nimport BookListService from \"../../api-services/book-list\";\r\nimport LocalStorageService from \"../../services/localStorage\";\r\nfunction FavouriteList(){\r\n\r\n    //NOTE: For API: After login, store userID in localStorage and uncomment the line below\r\n    // var userID = '616cca8018f451057a446ff2';\r\n\r\n    const defaultAvatar = 'https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg';\r\n\r\n    //NOTE: FOR API: This is mock userID, you should comment it and user the above code\r\n    const history = useHistory();\r\n    var userID = LocalStorageService.userID;\r\n\r\n    const [userState, setUser] = useState({\r\n        fullname: '',\r\n        gender: \"\", //NOTE: Gender: 0 -> male, 1 -> Female\r\n        DoB: '',\r\n        phone: '',\r\n        address: '',\r\n        email: '',\r\n        payment: '',\r\n        avatar: ''\r\n    })\r\n\r\n    const [favourites, setFavourites] = useState(); \r\n\r\n\r\n    //TODO: Check API code here\r\n    useEffect(() => {\r\n        ProfileService.getProfileUser(userID).then(response => {\r\n            setUser(response.data)\r\n        })\r\n        .catch(err => console.log(err))\r\n\r\n        BookListService.getFavourites(userID).then(response => {\r\n            let bookListData = response.data.favorites; \r\n            var listBookThumb = bookListData.map((book) => \r\n            <BookThumbnail id={book._id} bookName={book.title} author={book.author} image={book.image}></BookThumbnail>\r\n            )\r\n            setFavourites(listBookThumb); \r\n        })\r\n        .catch(err => console.log(err))\r\n        \r\n    }, [])\r\n\r\n    const handleEdit = () => {\r\n        history.push({\r\n            pathname: '/profile/edit',\r\n        });\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <div class=\"row profile-row\">\r\n                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                    <div className='profile-col'>\r\n                        <div>\r\n                            <img className='profile-avatar' src={userState.avatar === '' || typeof userState.avatar ==='undefined' ? defaultAvatar : userState.avatar}></img>\r\n                        </div>\r\n                        <div className='blank'></div>\r\n                        <Divider>PROFILE</Divider>\r\n                        <div className='blank15'></div>\r\n                        <div className='block-center' style={{padding:0}}>\r\n                            <div className='profile-fullname'>{userState.fullname}</div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg p-edit-button\" onClick={handleEdit}>Edit</button>\r\n                        </div>\r\n                        <div className='profile-id'>#{userID.substr(userID.length - 4, 4)}</div>\r\n                        <div className='profile-info'>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Birthday: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{moment(userState.DoB).format(\"DD MMMM, YYYY\")} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Gender: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.gender}</h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Phone: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.phone} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Address: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.address} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row  email-row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Email: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.email}</h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Payment: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.payment}</h6>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-xs-9 col-sm-9 col-md-9 col-lg-9 profile-books-col\">\r\n                    <div>\r\n                        <div className='block-center' style={{padding:0}}>\r\n                            <div className='book-row-title'>Favourites</div>\r\n                        </div>\r\n                        <div className='blank20'></div>\r\n                        <div className='book-row'>\r\n                            {favourites}\r\n                           \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ); \r\n}\r\n\r\nexport default FavouriteList; ","import { useHistory} from \"react-router\";\r\nimport { useEffect , useState } from \"react\";\r\nimport ProfileService from \"../../api-services/profile-service\";\r\nimport Divider from \"../../components/divider\";\r\nimport moment from \"moment\";\r\nimport BookThumbnail from \"../../components/book-thumbnail\";\r\nimport BookListService from \"../../api-services/book-list\";\r\nimport LocalStorageService from \"../../services/localStorage\";\r\nfunction ReadLaterList(){\r\n\r\n    //NOTE: For API: After login, store userID in localStorage and uncomment the line below\r\n    // var userID = '616cca8018f451057a446ff2';\r\n\r\n    const defaultAvatar = 'https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg';\r\n\r\n    //NOTE: FOR API: This is mock userID, you should comment it and user the above code\r\n    const history = useHistory();\r\n    var userID = LocalStorageService.userID;\r\n\r\n    const [userState, setUser] = useState({\r\n        fullname: '',\r\n        gender: \"\", //NOTE: Gender: 0 -> male, 1 -> Female\r\n        DoB: '',\r\n        phone: '',\r\n        address: '',\r\n        email: '',\r\n        payment: '',\r\n        avatar: ''\r\n    })\r\n\r\n    const [readLater, setReadLater] = useState(); \r\n\r\n\r\n    //TODO: Check API code here\r\n    useEffect(() => {\r\n        ProfileService.getProfileUser(userID).then(response => {\r\n            setUser(response.data)\r\n        })\r\n        .catch(err => console.log(err))\r\n\r\n        BookListService.getReadLater(userID).then(response => {\r\n            let bookListData = response.data.readLater; \r\n            var listBookThumb = bookListData.map((book) => \r\n                <BookThumbnail id={book._id} bookName={book.title} author={book.author} image={book.image}></BookThumbnail>\r\n            )\r\n            setReadLater(listBookThumb); \r\n        })\r\n        .catch(err => console.log(err))\r\n        \r\n    }, [])\r\n\r\n    const handleEdit = () => {\r\n        history.push({\r\n            pathname: '/profile/edit',\r\n        });\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <div class=\"row profile-row\">\r\n                <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">\r\n                    <div className='profile-col'>\r\n                        <div>\r\n                            <img className='profile-avatar' src={userState.avatar === '' || typeof userState.avatar ==='undefined' ? defaultAvatar : userState.avatar}></img>\r\n                        </div>\r\n                        <div className='blank'></div>\r\n                        <Divider>PROFILE</Divider>\r\n                        <div className='blank15'></div>\r\n                        <div className='block-center' style={{padding:0}}>\r\n                            <div className='profile-fullname'>{userState.fullname}</div>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-lg p-edit-button\" onClick={handleEdit}>Edit</button>\r\n                        </div>\r\n                        <div className='profile-id'>#{userID.substr(userID.length - 4, 4)}</div>\r\n                        <div className='profile-info'>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Birthday: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{moment(userState.DoB).format(\"DD MMMM, YYYY\")} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Gender: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.gender}</h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Phone: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.phone} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Address: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.address} </h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row  email-row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Email: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.email}</h6>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title\">\r\n                                    <h6>Payment: </h6>\r\n                                </div>\r\n                                <div class=\"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content\">\r\n                                    <h6>{userState.payment}</h6>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-xs-9 col-sm-9 col-md-9 col-lg-9 profile-books-col\">\r\n                    <div>\r\n                        <div className='block-center' style={{padding:0}}>\r\n                            <div className='book-row-title'>Read Later</div>\r\n                        </div>\r\n                        <div className='blank20'></div>\r\n                        <div className='book-row'>\r\n                            {readLater}\r\n                           \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ); \r\n}\r\n\r\nexport default ReadLaterList; ","export default __webpack_public_path__ + \"static/media/loading.6f480ba5.gif\";","import { useState } from 'react';\r\nimport { useLocation } from 'react-router';\r\nimport { useEffect } from 'react/cjs/react.development';\r\nimport BookThumbnail from '../../components/book-thumbnail';\r\nimport HeaderBook from '../../components/headerBook';\r\nimport loading from '../../gifs/loading.gif';\r\n\r\nfunction SearchResult() {\r\n  const location = useLocation();\r\n  // console.log(\"Search Page\");\r\n  // console.log(location.state);\r\n\r\n  const [searchRes, setSearchRes] = useState([]);\r\n  const [isLoaded, setIsloaded] = useState(false);\r\n  let res = location.state;\r\n  useEffect(async () => {\r\n    setSearchRes(res);\r\n    setIsloaded(true);\r\n  }, [res]);\r\n  const convertSearchRes = (searchRes) => {\r\n    let listRes = searchRes.map((book) => {\r\n      return (\r\n        <BookThumbnail\r\n          id={book._id}\r\n          bookName={book.title}\r\n          author={book.author}\r\n          image={book.image}\r\n        ></BookThumbnail>\r\n      );\r\n    });\r\n    return listRes;\r\n  };\r\n\r\n  if (isLoaded === false)\r\n    return (\r\n      <div>\r\n        <HeaderBook />\r\n        <div style={{ height: '100vh' }}>\r\n          <img\r\n            className='img-loading'\r\n            src={loading}\r\n            style={{ height: '100vh' }}\r\n          ></img>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  if (res && res.length === 0 && isLoaded)\r\n    return (\r\n      <div>\r\n        <HeaderBook />\r\n        <div style={{ height: '100vh' }}>\r\n          <img\r\n            className='img-not-found'\r\n            src='../images/book-not-found.png'\r\n          ></img>\r\n        </div>\r\n      </div>\r\n    );\r\n  else\r\n    return (\r\n      <div className='search-page'>\r\n        <HeaderBook />\r\n        <div className='book-row'>{convertSearchRes(searchRes)}</div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default SearchResult;\r\n","import { useState } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport { useEffect } from \"react/cjs/react.development\";\r\nimport BookService from \"../../api-services/book-service\";\r\nimport BookThumbnail from \"../../components/book-thumbnail\";\r\nimport HeaderBook from \"../../components/headerBook\";\r\nimport loading from \"../../gifs/loading.gif\"\r\n\r\nfunction Category({match}){\r\n    const name = match.params.name; \r\n    console.log(name); \r\n    const [bookList, setBookList] = useState([])\r\n    const [genres, setGenre] = useState({\r\n        genres: name,\r\n    })\r\n    const [isLoaded, setIsloaded] = useState(false); \r\n\r\n    useEffect(async () => {\r\n        // //TODO: use name to call get books by genre service \r\n        const res = await BookService.searchBook(genres);\r\n        // //after that, call setBookList to set the response.data\r\n        setBookList(res);\r\n        setIsloaded(true); \r\n    }, [name])\r\n\r\n    const convertBookList = (books) => {\r\n        let bookCo = books.map((book) => {\r\n            return <BookThumbnail id={book._id} bookName={book.title} author={book.author} image={book.image}></BookThumbnail>\r\n        })\r\n        return bookCo\r\n    }\r\n\r\n    if (isLoaded === false)\r\n    return(\r\n        <div>\r\n            <HeaderBook/>\r\n            <div style={{height:'100vh'}}>\r\n                <img className=\"img-loading\" src={loading} style={{height:\"100vh\"}}></img>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    if (bookList.length === 0 && isLoaded)\r\n    return(\r\n        <div>\r\n            <HeaderBook/>\r\n            <div className='blank20'></div>\r\n            <div className='book-row-title' style={{textAlign: 'center'}}>Category: {name}</div>\r\n            <div style={{height:'100vh'}}>\r\n                <img className=\"img-not-found\" src='../images/book-not-found.png'></img>\r\n            </div>\r\n        </div>\r\n    ); \r\n    else \r\n    return(\r\n        <div className=\"search-page\">\r\n            <HeaderBook/>\r\n            <div className='blank20'></div>\r\n            <div className='book-row-title' style={{textAlign: 'center'}}>Category: {name}</div>\r\n            <div className=\"book-row\">\r\n                {convertBookList(bookList)}\r\n            </div>\r\n        </div>\r\n    ); \r\n\r\n}\r\nexport default Category","import { useState } from \"react\";\r\nimport { useEffect } from \"react/cjs/react.development\";\r\nimport BookService from \"../../api-services/book-service\";\r\nimport BookThumbnail from \"../../components/book-thumbnail\";\r\nimport HeaderBook from \"../../components/headerBook\";\r\nimport loading from \"../../gifs/loading.gif\"\r\n\r\nfunction TopBook(){\r\n    const [topBook, setTopBook] = useState([]); \r\n    const [isLoaded, setIsloaded] = useState(false); \r\n\r\n    useEffect(async ()  =>  {\r\n        BookService.getTopBook().then(res => {\r\n            setTopBook(res.data.docs);\r\n            setIsloaded(true); \r\n        })\r\n        .catch (err => console.log(err))\r\n    }, []); \r\n\r\n    const convertTopBook = (topBk) => {\r\n        let listTopBook = topBk.map((book) => {\r\n            return <BookThumbnail id={book._id} bookName={book.title} author={book.author} image={book.image}></BookThumbnail>\r\n        })\r\n        return listTopBook;\r\n    }\r\n    console.log(topBook)\r\n    \r\n    if (isLoaded === false)\r\n    return(\r\n        <div>\r\n            <HeaderBook/>\r\n            <div style={{height:'100vh'}}>\r\n                <img className=\"img-loading\" src={loading} style={{height:\"100vh\"}}></img>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    if (topBook.length === 0 && isLoaded)\r\n    return(\r\n        <div>\r\n            <HeaderBook/>\r\n            <div style={{height:'100vh'}}>\r\n                <img className=\"img-not-found\" src='../images/book-not-found.png'></img>\r\n            </div>\r\n        </div>\r\n    ); \r\n    else return(\r\n        <div className=\"search-page\">\r\n            <HeaderBook/>\r\n            <div className='blank20'></div>\r\n            <div className='book-row-title' style={{textAlign: 'center', marginBottom: '20px'}}>Top trending</div>\r\n            <div className=\"book-row\">\r\n                {convertTopBook(topBook)}\r\n            </div>\r\n        </div>\r\n    ); \r\n}\r\n\r\nexport default TopBook; ","import { useState } from \"react\";\r\nimport { useEffect } from \"react/cjs/react.development\";\r\nimport BookService from \"../../api-services/book-service\";\r\nimport BookThumbnail from \"../../components/book-thumbnail\";\r\nimport HeaderBook from \"../../components/headerBook\";\r\nimport loading from \"../../gifs/loading.gif\"\r\n\r\nfunction NewReleaseBook(){\r\n    const [newRel, setNewRel] = useState([]); \r\n    const [isLoaded, setIsloaded] = useState(false); \r\n\r\n    useEffect(async ()  =>  {\r\n        BookService.getNewReleaseBook().then(res => {\r\n            setNewRel(res.data.docs);\r\n            setIsloaded(true); \r\n        })\r\n        .catch (err => console.log(err))\r\n    }, []); \r\n    \r\n    const convertNewRelease = (newRelList) => {\r\n        let listNewRel = newRelList.map((book) => {\r\n            return <BookThumbnail id={book._id} bookName={book.title} author={book.author} image={book.image}></BookThumbnail>\r\n        })\r\n        return listNewRel;\r\n    }\r\n    console.log(newRel)\r\n    \r\n    if (isLoaded === false)\r\n    return(\r\n        <div>\r\n            <HeaderBook/>\r\n            <div style={{height:'100vh'}}>\r\n                <img className=\"img-loading\" src={loading} style={{height:\"100vh\"}}></img>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    if (newRel.length === 0 && isLoaded)\r\n    return(\r\n        <div>\r\n            <HeaderBook/>\r\n            <div style={{height:'100vh'}}>\r\n                <img className=\"img-not-found\" src='../images/book-not-found.png'></img>\r\n            </div>\r\n        </div>\r\n    ); \r\n    else return(\r\n        <div className=\"search-page\">\r\n            <HeaderBook/>\r\n            <div className='blank20'></div>\r\n            <div className='book-row-title' style={{textAlign: 'center', marginBottom: '20px'}}>New release</div>\r\n            <div className=\"book-row\">\r\n                {convertNewRelease(newRel)}\r\n            </div>\r\n        </div>\r\n    ); \r\n}\r\n\r\nexport default NewReleaseBook; ","import { Link } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport BookService from \"../../api-services/book-service\";\r\nimport bookService from \"../../api-services/book-service\";\r\nimport HeaderBook from \"../../components/headerBook\";\r\nfunction Discover(){\r\n\r\n    const [trending, setTrending] = useState([]); \r\n    const [latest, setLatest] = useState([]); \r\n\r\n    useEffect(() => {\r\n        BookService.getTopBook().then(res => {\r\n            setTrending(res.data.docs);\r\n        })\r\n        .catch (err => console.log(err))\r\n\r\n        bookService.getNewReleaseBook().then(res => {\r\n            setLatest(res.data.docs);\r\n        })\r\n        .catch (err => console.log(err))\r\n\r\n    }, [])\r\n\r\n    const convertTrending = (trending) => {\r\n        trending = trending.slice(0, 5); \r\n        let listTrending = trending.map((book) => {\r\n            return <div className='book-container'>\r\n                    <img src={book.image} className='book-image'></img>\r\n                </div>\r\n        })\r\n        return listTrending;\r\n    }\r\n\r\n    const convertLatest = (latest) => {\r\n        latest = latest.slice(0, 5); \r\n        let listLatest = latest.map((book) => {\r\n            return <div className='book-container'>\r\n                    <img src={book.image} className='book-image'></img>\r\n                </div>\r\n        })\r\n        return listLatest;\r\n    }\r\n\r\n    return(\r\n        <div style={{minHeight:'100vh'}}>\r\n            <HeaderBook/>\r\n            <div className='discover-page'>\r\n                <div className='block-center' style={{padding:0}}>\r\n                    <div className='book-row-title'>Trending Books</div>\r\n                    <Link to='/trending' style={{fontFamily: '\"Montserrat\", sans-serif', color:'black'}}>See more {\">>>\"} </Link>\r\n                </div>\r\n                <div className='blank20'></div>\r\n                <div className='book-row'>\r\n                    {convertTrending(trending)}\r\n                </div>\r\n\r\n                <div className='blank20'></div>\r\n                <div className='blank20'></div>\r\n\r\n                <div className='block-center' style={{padding:0}}>\r\n                    <div className='book-row-title'>New Release Books</div>\r\n                    <Link to='/new-release' style={{fontFamily: '\"Montserrat\", sans-serif', color:'black'}}>See more {\">>>\"} </Link>\r\n                </div>\r\n                <div className='blank20'></div>\r\n                <div className='book-row'>\r\n                    {convertLatest(latest)}\r\n                </div>\r\n\r\n                {/* <div className='blank20'></div>\r\n                <div className='blank20'></div>\r\n\r\n                <div className='block-center' style={{padding:0}}>\r\n                    <div className='book-row-title'>Categories {\">>\"} Romance</div>\r\n                    <Link to='/category/Romance' style={{fontFamily: '\"Montserrat\", sans-serif', color:'black'}}>See more {\">>>\"} </Link>\r\n                </div>\r\n                <div className='blank20'></div>\r\n                <div className='book-row'>\r\n                    {convertLatest(latest)}\r\n                </div> */}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Discover; ","import { useState } from \"react\";\r\nimport { useEffect } from \"react/cjs/react.development\";\r\nimport BookService from \"../../api-services/book-service\";\r\nimport BookThumbnail from \"../../components/book-thumbnail\";\r\nimport HeaderBook from \"../../components/headerBook\";\r\nimport loading from \"../../gifs/loading.gif\"\r\n\r\nfunction Recommend(){\r\n    const [recommend, setRecommend] = useState([]); \r\n    const [isLoaded, setIsloaded] = useState(false); \r\n\r\n    useEffect(async ()  =>  {\r\n        BookService.getTopBook().then(res => {\r\n            setRecommend(res.data.docs);\r\n            setIsloaded(true); \r\n        })\r\n        .catch (err => console.log(err))\r\n    }, []); \r\n\r\n    const convertRecommend = (rec) => {\r\n        let listRecommend = rec.map((book) => {\r\n            return <BookThumbnail id={book._id} bookName={book.title} author={book.author} image={book.image}></BookThumbnail>\r\n        })\r\n        return listRecommend;\r\n    }\r\n    console.log(recommend)\r\n    \r\n    if (isLoaded === false)\r\n    return(\r\n        <div>\r\n            <HeaderBook/>\r\n            <div style={{height:'100vh'}}>\r\n                <img className=\"img-loading\" src={loading} style={{height:\"100vh\"}}></img>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    if (recommend.length === 0 && isLoaded)\r\n    return(\r\n        <div>\r\n            <HeaderBook/>\r\n            <div style={{height:'100vh'}}>\r\n                <img className=\"img-not-found\" src='../images/book-not-found.png'></img>\r\n            </div>\r\n        </div>\r\n    ); \r\n    else return(\r\n        <div className=\"search-page\">\r\n            <HeaderBook/>\r\n            <div className='blank20'></div>\r\n            <div className='book-row-title' style={{textAlign: 'center', marginBottom: '20px'}}>Recommend</div>\r\n            <div className=\"book-row\">\r\n                {convertRecommend(recommend)}\r\n            </div>\r\n        </div>\r\n    ); \r\n}\r\n\r\nexport default Recommend; ","import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\n\r\n\r\nconst API_URL = \"https://nice-book.herokuapp.com/api/v1/books/\";\r\n\r\nclass MediaService {\r\n    getDetailMedia (id) {\r\n        return axios.get(API_URL + id + \"/medias\", {headers: authHeader()});\r\n    }\r\n}\r\n\r\nexport default new MediaService;","import React from 'react';\r\n\r\nconst Loader = ({isLoading}) => {\r\n  if(!isLoading) return null;\r\n  return (\r\n    <div id=\"loader\" className=\"d-flex justify-content-center align-items-center flex-column\">\r\n      <img src=\"https://react-pdf.org/images/logo.png\" alt=\"loader\" className=\"mb-5 App-logo\" />\r\n      <p>Loading...</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\n\r\nconst PDFPrinter = ({ file }) => {\r\n  const print = () => {\r\n    const pdfFrame = document.createElement('iframe');\r\n    pdfFrame.style.visibility = 'hidden';\r\n    pdfFrame.src = file;\r\n\r\n    document.body.appendChild(pdfFrame);\r\n\r\n    pdfFrame.contentWindow.focus();\r\n    pdfFrame.contentWindow.print();\r\n  };\r\n  return (\r\n    <i className=\"fas fa-print clickable\" onClick={print} title=\"download\" />\r\n  );\r\n};\r\n\r\nexport default PDFPrinter;","import React from 'react';\r\nimport PDFPrinter from './PDFPrinter';\r\n\r\nconst ControlPanel = (props) => {\r\n  const { file, pageNumber, numPages, setPageNumber, scale, setScale } = props;\r\n\r\n  const isFirstPage = pageNumber === 1;\r\n  const isLastPage = pageNumber === numPages;\r\n\r\n  const firstPageClass = isFirstPage ? 'disabled' : 'clickable';\r\n  const lastPageClass = isLastPage ? 'disabled' : 'clickable';\r\n\r\n  const goToFirstPage = () => {\r\n    if (!isFirstPage) setPageNumber(1);\r\n  };\r\n  const goToPreviousPage = () => {\r\n    if (!isFirstPage) setPageNumber(pageNumber - 1);\r\n  };\r\n  const goToNextPage = () => {\r\n    if (!isLastPage) setPageNumber(pageNumber + 1);\r\n  };\r\n  const goToLastPage = () => {\r\n    if (!isLastPage) setPageNumber(numPages);\r\n  };\r\n\r\n  const onPageChange = (e) => {\r\n    const { value } = e.target;\r\n    setPageNumber(Number(value));\r\n  };\r\n\r\n  const isMinZoom = scale < 0.6;\r\n  const isMaxZoom = scale >= 2.0;\r\n\r\n  const zoomOutClass = isMinZoom ? 'disabled' : 'clickable';\r\n  const zoomInClass = isMaxZoom ? 'disabled' : 'clickable';\r\n\r\n  const zoomOut = () => {\r\n    if (!isMinZoom) setScale(scale - 0.1);\r\n  };\r\n\r\n  const zoomIn = () => {\r\n    if (!isMaxZoom) setScale(scale + 0.1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"control-panel m-3 p-3 d-flex align-items-baseline justify-content-between\" style={{backgroundColor: '#EEEEEE'}}>\r\n      <div className=\"d-flex justify-content-between align-items-baseline\">\r\n        <i\r\n          className={`fas fa-fast-backward mx-3 ${firstPageClass}`}\r\n          onClick={goToFirstPage}\r\n        />\r\n        <i\r\n          className={`fas fa-backward mx-3 ${firstPageClass}`}\r\n          onClick={goToPreviousPage}\r\n        />\r\n        <span>\r\n          Page{' '}\r\n          <input\r\n            name=\"pageNumber\"\r\n            type=\"number\"\r\n            min={1}\r\n            max={numPages || 1}\r\n            className=\"p-0 pl-1 mx-2\"\r\n            value={pageNumber}\r\n            onChange={onPageChange}\r\n          />{' '}\r\n          of {numPages}\r\n        </span>\r\n        <i\r\n          className={`fas fa-forward mx-3 ${lastPageClass}`}\r\n          onClick={goToNextPage}\r\n        />\r\n        <i\r\n          className={`fas fa-fast-forward mx-3 ${lastPageClass}`}\r\n          onClick={goToLastPage}\r\n        />\r\n      </div>\r\n      <div className=\"d-flex justify-content-between align-items-baseline\">\r\n        <i\r\n          className={`fas fa-search-minus mx-3 ${zoomOutClass}`}\r\n          onClick={zoomOut}\r\n        />\r\n        <span>{(scale * 100).toFixed()}%</span>\r\n        <i\r\n          className={`fas fa-search-plus mx-3 ${zoomInClass}`}\r\n          onClick={zoomIn}\r\n        />\r\n      </div>\r\n      <div className=\"mx-3\">\r\n        <a href=\"/assets/docs/file-sample.pdf\" download={true} title=\"download\">\r\n          <i className=\"fas fa-file-download clickable\" />\r\n        </a>\r\n      </div>\r\n      <div className=\"mx-3\">\r\n        <PDFPrinter file={file} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ControlPanel;","import React, { useState, useEffect } from 'react';\r\nimport LocalStorageService from \"../../services/localStorage\";\r\nimport mediasServices from \"../../api-services/medias-services\";\r\nimport Loader from './Loader';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport ControlPanel from './ControlPanel';\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nconst PDFReader = () => {\r\n  const [scale, setScale] = useState(1.0);\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const bookID = LocalStorageService.bookID;\r\n  const [urlPDF, setUrlPDF] = useState();\r\n\r\n  useEffect(() => {\r\n    mediasServices.getDetailMedia(bookID).then(res => {\r\n        setUrlPDF(res.data.pdfs[0])\r\n    }).catch(error => console.log(error))\r\n  }, [])\r\n\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    setNumPages(numPages);\r\n    setIsLoading(false);\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      <Loader isLoading={isLoading} />\r\n      <section\r\n        id=\"pdf-section\"\r\n        className=\"d-flex flex-column align-items-center w-100\"\r\n      >\r\n        <ControlPanel\r\n          scale={scale}\r\n          setScale={setScale}\r\n          numPages={numPages}\r\n          pageNumber={pageNumber}\r\n          setPageNumber={setPageNumber}\r\n          file={urlPDF}\r\n        />\r\n        <Document\r\n          file={urlPDF}\r\n          onLoadSuccess={onDocumentLoadSuccess}\r\n        >\r\n          <Page pageNumber={pageNumber} scale={scale} />\r\n        </Document>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PDFReader;","import { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport mediasServices from \"../../api-services/medias-services\";\r\nimport LocalStorageService from \"../../services/localStorage\";\r\nfunction AudioBook(){\r\n    const [sounds, setSound] = useState(\r\n        [\r\n            {\r\n               type: '', \r\n               src: ''\r\n            },\r\n            {\r\n                type: '', \r\n                src: ''\r\n            }\r\n        ]\r\n    )\r\n    const bookID = LocalStorageService.bookID;\r\n    const tmp = null\r\n\r\n    useEffect(() => {\r\n        mediasServices.getDetailMedia(bookID).then(res => {\r\n            // console.log(res.data)\r\n            setSound(res.data.audios)\r\n        }).catch(error => console.log(error))\r\n    }, [])\r\n\r\n    const converSoundList =  (sounds) => {\r\n        let soundCo = sounds.map(sound => {\r\n            return <li><a href=\"#\" data-value={sound.src}>{sound.type}</a></li>\r\n        })\r\n        return soundCo\r\n    }\r\n\r\n    const changeSound  = (e) =>  {\r\n        e.preventDefault();\r\n      \r\n        var elm = e.target;\r\n        var audio = document.getElementById('audio');\r\n      \r\n        var source = document.getElementById('audioSource');\r\n        source.src = elm.getAttribute('data-value');\r\n      \r\n        audio.load(); \r\n        audio.play(); \r\n      };\r\n\r\n    return(\r\n        <div>\r\n            <ul style={{listStyle:'none'}}>\r\n            <li style={{fontWeight: 'bold', fontSize:'20px'}}>Book audio\r\n                <ul id=\"list\" onClick={changeSound}>\r\n                    {converSoundList(sounds)}\r\n                </ul>\r\n            </li>\r\n            </ul>\r\n\r\n           <audio id=\"audio\" controls style={{width: '100%'}}>\r\n                <source  id=\"audioSource\" src={sounds[0].src}/>\r\n            </audio>\r\n      </div>\r\n    ); \r\n}\r\n\r\nexport default AudioBook; ","import { useEffect, useState } from \"react\";\r\nimport PDFReader from \"./PDFReader\";\r\nimport BookService from \"../../api-services/book-service\";\r\nimport HeaderBook from \"../../components/headerBook\";\r\nimport Audio from \"../audio/audio\";\r\nfunction ReadBook({match}) {\r\n    const bookID = match.params.id; \r\n    console.log(bookID);\r\n    localStorage.setItem(\"bookID\", bookID);\r\n    return (\r\n        <div>\r\n            <HeaderBook/>\r\n            <div className=\"row profile-row\" style={{justifyContent: 'center'}}>\r\n                <div className=\"col-xs-9 col-sm-9 col-md-9 col-lg-9 book-detail\" style={{display: 'flex', flexDirection: 'column'}}>\r\n                    <h6 style={{color: '#224362'}}>Home \r\n                        <i class=\"fas fa-angle-right\" style={{marginLeft: '5px', marginRight: '5px'}}></i>\r\n                        Book\r\n                        <i class=\"fas fa-angle-right\" style={{marginLeft: '5px', marginRight: '5px'}}></i>\r\n                        PDF & Audio\r\n                    </h6>\r\n                    <PDFReader />\r\n                    <Audio />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ReadBook;","import SignUp from '../pages/login_signup/signup';\r\nimport Login from '../pages/login_signup/login';\r\nimport Verify from '../pages/login_signup/verify';\r\nimport ForgotPassword from \"../pages/forgot_password/forgotPassword\";\r\nimport NewPassword from \"../pages/forgot_password/newPassword\";\r\nimport Homepage from '../pages/homepage';\r\nimport UserProfile from '../pages/user-profile/profile';\r\nimport EditProfile from '../pages/user-profile/editProfile';\r\nimport DetailBook from '../pages/book/detailBook';\r\nimport ReadingList from '../pages/list-books/reading';\r\nimport FavouriteList from '../pages/list-books/favourites';\r\nimport ReadLaterList from '../pages/list-books/readLater';\r\nimport SearchResult from '../pages/search/search-res';\r\nimport Category from '../pages/categories/category';\r\nimport TopBook from '../pages/categories/topBook';\r\nimport NewReleaseBook from '../pages/categories/newReleaseBook';\r\nimport Discover from '../pages/categories/discover';\r\nimport Recommend from '../pages/categories/recommend';\r\nimport ReadBook from '../pages/book/ReadBook';\r\n\r\nexport const ROUTES = [\r\n    {\r\n        path: \"/signup\",\r\n        exact: true,\r\n        main: SignUp\r\n    },\r\n    {\r\n        path: \"/login\",\r\n        exact: true,\r\n        main: Login\r\n    },\r\n    {\r\n        path: \"/verify\",\r\n        exact: true,\r\n        main: Verify\r\n    },\r\n    {\r\n        path: \"/forgot-password\",\r\n        exact: true,\r\n        main: ForgotPassword\r\n    },\r\n    {\r\n        path: \"/new-password\",\r\n        exact: true,\r\n        main: NewPassword\r\n    }, \r\n    {\r\n        path: \"/\", \r\n        exact: true, \r\n        main: Homepage\r\n    }, \r\n    {\r\n        path: '/category/:name', \r\n        exact: true, \r\n        main: Category\r\n    }, \r\n    {\r\n        path: '/search', \r\n        exact: true, \r\n        main: SearchResult\r\n    },\r\n    {\r\n        path: '/books/:id',\r\n        exact: true,\r\n        main: DetailBook\r\n    },\r\n    {\r\n        path: '/trending', \r\n        exact: true, \r\n        main: TopBook\r\n    },\r\n    {\r\n        path: '/new-release', \r\n        exact: true, \r\n        main: NewReleaseBook\r\n    },  \r\n    {\r\n        path: '/discover', \r\n        exact: true, \r\n        main: Discover\r\n    },\r\n    {\r\n        path: '/recommend', \r\n        exact: true, \r\n        main: Recommend\r\n    },\r\n]\r\n\r\nexport const PRIVATE_ROUTES_ADMIN = [\r\n\r\n]\r\n\r\nexport const PRIVATE_ROUTES_MANAGER = [\r\n\r\n]\r\n\r\nexport const PRIVATE_ROUTES_USER = [\r\n    {\r\n        path: '/profile', \r\n        exact: true, \r\n        main: UserProfile\r\n    },\r\n    {\r\n        path: '/profile/edit', \r\n        exact: true, \r\n        main: EditProfile\r\n    },\r\n    {\r\n        path: '/profile/readings', \r\n        exact: true, \r\n        main: ReadingList\r\n    }, \r\n    {\r\n        path: '/profile/favourites', \r\n        exact: true, \r\n        main: FavouriteList\r\n    }, \r\n    {\r\n        path: '/profile/read-later', \r\n        exact: true, \r\n        main: ReadLaterList\r\n    }, \r\n    {\r\n        path: '/:id', \r\n        exact: true, \r\n        main: ReadBook\r\n    }\r\n]\r\n","import React, {Component} from \"react\";\r\nimport {Link} from 'react-router-dom';\r\nfunction Footer() {\r\n    return(\r\n        <div>\r\n            <footer className=\"list-footer-item\">\r\n                <p> 2021 All rights reserved NiceBook Inc</p> &nbsp;&nbsp;\r\n                <ul className=\"list-inline\">\r\n                    <li class=\"list-inline-item\"><Link href=\"#\">About Us</Link> | </li>\r\n                    <li class=\"list-inline-item\"><Link href=\"#\">Privacy Notice</Link> | </li>\r\n                    <li class=\"list-inline-item\"><Link href=\"#\">Terms of Service</Link> | </li>\r\n                    <li class=\"list-inline-item\"><Link href=\"#\">United States (English)</Link></li>\r\n                </ul>\r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\nexport default Footer;\r\n","import React, {useState} from \"react\";\r\nimport BookService from \"../api-services/book-service\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n    const history = useHistory();\r\n    const [author, setAuthor] = useState({\r\n        author: '',\r\n    })\r\n    const [title, setTitle] = useState({\r\n        title: '',\r\n    })\r\n\r\n    const handleDirectToHomepage = () => {\r\n        history.push({\r\n            pathname: '/',\r\n        });\r\n    }\r\n\r\n    const handleDirectToLogin = () => {\r\n        history.push({\r\n            pathname: '/login',\r\n        });\r\n    }\r\n\r\n    const handleDirectToSignup = () => {\r\n        history.push({\r\n            pathname: '/signup',\r\n        });\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        if(document.getElementById(\"typeFilter\").value == \"author\"){\r\n            setAuthor({...author, author: document.getElementById(\"search\").value});\r\n        }\r\n        else if(document.getElementById(\"typeFilter\").value == \"title\"){\r\n            setTitle({...title, title: document.getElementById(\"search\").value});\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n        var res; \r\n        if(document.getElementById(\"typeFilter\").value == \"author\"){\r\n            res = await BookService.searchBook(author);\r\n            if(author.author != ''){\r\n                history.push({\r\n                    pathname: '/search',\r\n                    state: res\r\n                })\r\n            }\r\n            console.log(res);\r\n        }\r\n        else if(document.getElementById(\"typeFilter\").value == \"title\"){\r\n            res = await BookService.searchBook(title);\r\n            if(title.title != ''){\r\n                history.push({\r\n                    pathname: '/search',\r\n                    state: res\r\n                })\r\n            }\r\n            console.log(res);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <header>\r\n            <div className=\"header-style\">\r\n                <div className=\"header-component\">\r\n                    <div>\r\n                        <img className=\"logo-header\" src='../images/Logo.png' onClick={handleDirectToHomepage}></img>\r\n                    </div>\r\n                    <div className=\"header-component\">\r\n                    <select id=\"typeFilter\" className=\"select-filter\" onChange={handleChange}>\r\n                            <option value=\"author\">Author</option>\r\n                            <option value=\"title\">Title</option>\r\n                        </select>\r\n                        <input className=\"search-input form-control input-field-search\" id=\"search\" style={{borderRadius: '0rem 0.25rem 0.25rem 0rem'}} placeholder=\"Search any book...\" name=\"search\" type=\"text\" onChange={handleChange}/>\r\n                        <i className=\"fa fa-search icon-search fa-lg\" onClick={handleSubmit}></i>\r\n                    </div>\r\n                    <div className=\"header-component left-component\">\r\n                        <button type=\"button\" className=\"btn-login-header\" onClick={handleDirectToLogin}>Login</button>\r\n                        <button type=\"button\" className=\"btn-signup-header\" onClick={handleDirectToSignup}>Sign up</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import React, {useState, useEffect} from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport {Link} from 'react-router-dom';\r\nimport AuthService from '../api-services/auth-service';\r\nimport BookService from \"../api-services/book-service\";\r\nimport LocalStorageService from \"../services/localStorage\";\r\n\r\nfunction HeaderUser() {\r\n    const history = useHistory();\r\n    const username = LocalStorageService.username;\r\n    const [author, setAuthor] = useState({\r\n        author: '',\r\n    })\r\n    const [title, setTitle] = useState({\r\n        title: '',\r\n    })\r\n\r\n    const handleDirectToHomepage = () => {\r\n        history.push({\r\n            pathname: '/',\r\n        });\r\n    }\r\n\r\n    const handleSignOut = () => {\r\n        AuthService.logout();\r\n        history.push({\r\n            pathname: '/login',\r\n        });\r\n        window.location.reload()\r\n    }\r\n    \r\n    const handleChange = (e) => {\r\n        if(document.getElementById(\"typeFilter\").value == \"author\"){\r\n            setAuthor({...author, author: document.getElementById(\"search\").value});\r\n        }\r\n        else if(document.getElementById(\"typeFilter\").value == \"title\"){\r\n            setTitle({...title, title: document.getElementById(\"search\").value});\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n        var res; \r\n        if(document.getElementById(\"typeFilter\").value == \"author\"){\r\n            res = await BookService.searchBook(author);\r\n            if(author.author != ''){\r\n                history.push({\r\n                    pathname: '/search',\r\n                    state: res\r\n                })\r\n            }\r\n            console.log(res);\r\n        }\r\n        else if(document.getElementById(\"typeFilter\").value == \"title\"){\r\n            res = await BookService.searchBook(title);\r\n            if(title.title != ''){\r\n                history.push({\r\n                    pathname: '/search',\r\n                    state: res\r\n                })\r\n            }\r\n            console.log(res);\r\n        }\r\n    }\r\n    \r\n    return(\r\n        <header>\r\n            <div className=\"header-style\">\r\n                <div className=\"header-component\">\r\n                    <div>\r\n                        <img className=\"logo-header\" src='../images/Logo.png' onClick={handleDirectToHomepage}></img>\r\n                    </div>\r\n                    <div className=\"header-component \">\r\n                        <select id=\"typeFilter\" className=\"select-filter\" onChange={handleChange}>\r\n                            <option value=\"author\">Author</option>\r\n                            <option value=\"title\">Title</option>\r\n                        </select>\r\n                        <input className=\"search-input form-control input-field-search\" id=\"search\" style={{borderRadius: '0rem 0.25rem 0.25rem 0rem'}} placeholder=\"Search any book...\" name=\"search\" type=\"text\" onChange={handleChange}/>\r\n                        <i className=\"fa fa-search icon-search fa-lg\" onClick={handleSubmit}></i>\r\n                    </div>\r\n                    <div className=\"dropdown\">\r\n                        <h6 className=\"header-component left-component\" style={{marginTop: '20px'}}>Welcome, {username}</h6>\r\n                        <div className=\"dropdown-content\">\r\n                            <Link to=\"/profile\" style={{ textDecoration: 'none', color: 'black'}}>Profile</Link>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"header-component left-component\">\r\n                        <button type=\"button\" className=\"btn-login-header\" onClick={handleSignOut}>Sign out</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </header>\r\n    )\r\n}\r\nexport default HeaderUser;","import {\r\n  HashRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n} from 'react-router-dom';\r\nimport {\r\n  ROUTES,\r\n  PRIVATE_ROUTES_ADMIN,\r\n  PRIVATE_ROUTES_MANAGER,\r\n  PRIVATE_ROUTES_USER,\r\n} from './routes/routes';\r\nimport './App.css';\r\nimport Footer from './components/footer';\r\nimport Header from './components/header';\r\nimport HeaderUser from './components/headerUser';\r\nimport LocalStorageService from './services/localStorage';\r\n\r\nfunction App() {\r\n  const isLoggedIn = () => {\r\n    //   return true\r\n    return (\r\n      LocalStorageService.token !== '' && LocalStorageService.token !== null\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className='app-container'>\r\n      <Router basename='/'>\r\n        {isLoggedIn() ? <HeaderUser /> : <Header />}\r\n        <Switch>\r\n          {showRoutesPublic(ROUTES)}\r\n          {showRoutesPrivateUser(PRIVATE_ROUTES_USER, isLoggedIn())}\r\n        </Switch>\r\n        <Footer />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst showRoutesPublic = (routes) => {\r\n  var result = null;\r\n  if (routes.length > 0) {\r\n    result = routes.map((route, index) => {\r\n      return (\r\n        <Route\r\n          key={index}\r\n          path={route.path}\r\n          exact={route.exact}\r\n          render={(props) => <route.main {...props} />}\r\n        />\r\n      );\r\n    });\r\n  }\r\n  return result;\r\n};\r\n\r\nconst showRoutesPrivateManager = (routes, isLoggedIn, role) => {\r\n  var result = null;\r\n  if (routes.length > 0) {\r\n    result = routes.map((route, index) => {\r\n      return (\r\n        <Route\r\n          key={index}\r\n          path={route.path}\r\n          exact\r\n          render={(props) =>\r\n            isLoggedIn && role === 2 ? (\r\n              <route.main {...props} />\r\n            ) : (\r\n              <Redirect\r\n                to={{\r\n                  pathname: '',\r\n                  state: { from: props.location },\r\n                }}\r\n              />\r\n            )\r\n          }\r\n        />\r\n      );\r\n    });\r\n  }\r\n  return result;\r\n};\r\n\r\nconst showRoutesPrivateUser = (routes, isLoggedIn, role) => {\r\n  var result = null;\r\n  if (routes.length > 0) {\r\n    result = routes.map((route, index) => {\r\n      return (\r\n        <Route\r\n          key={index}\r\n          path={route.path}\r\n          exact\r\n          render={(props) =>\r\n            isLoggedIn ? (\r\n              <route.main {...props} />\r\n            ) : (\r\n              <Redirect\r\n                to={{\r\n                  pathname: '/login',\r\n                  state: { from: props.location },\r\n                }}\r\n              />\r\n            )\r\n          }\r\n        />\r\n      );\r\n    });\r\n  }\r\n  return result;\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}