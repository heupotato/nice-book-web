(this["webpackJsonpnice-book-web"]=this["webpackJsonpnice-book-web"]||[]).push([[0],{198:function(e,t){},199:function(e,t){},200:function(e,t){},201:function(e,t){},202:function(e,t){},203:function(e,t,c){},204:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(27),i=c.n(a),r=(c(82),c(9)),o=c(7),l=c(11),d=c(5),j=c.n(d),b=c(10),u=c(13),m=c(4),h=c(6),O=(c(25),c(77)),x=c(14),p=c(15),f=c(72),g=c.n(f),v=function(){function e(t){Object(x.a)(this,e),this.rules=t,this.initiate()}return Object(p.a)(e,[{key:"initiate",value:function(){this.isValid=!0,this.errors={}}},{key:"validate",value:function(e){var t=this;return this.initiate(),this.rules.forEach((function(c){if(!t.errors[c.field]){var s=e[c.field]||"",n=c.args||[];("string"===typeof c.method?g.a[c.method]:c.method).apply(void 0,[s].concat(Object(O.a)(n),[e]))!==c.validWhen&&(t.errors[c.field]=c.message,t.isValid=!1)}})),this.errors}}]),e}(),y=c(12),N=c.n(y),k="https://nice-book.herokuapp.com/api/v1/auth/",w=function(){function e(){Object(x.a)(this,e)}return Object(p.a)(e,[{key:"login",value:function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(k+"login",{email:t,password:c}).then((function(e){return e.data&&(localStorage.setItem("user",JSON.stringify(e.data.body)),localStorage.email=e.data.body.user.email,localStorage.accessToken=e.data.body.token,localStorage.username=e.data.body.user.username),e.data}),(function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(b.a)(j.a.mark((function e(t,c,s){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(k+"register",{email:t,username:c,password:s}).then((function(e){return e.data}),(function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,s){return e.apply(this,arguments)}}()},{key:"forgotPassword",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(k+"forgot-password",{email:t}).then((function(e){return e.data}),(function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=Object(b.a)(j.a.mark((function e(t,c,s){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put(k+"reset-password",{email:t,code:c,newPassword:s}).then((function(e){return e.data}),(function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,s){return e.apply(this,arguments)}}()},{key:"resendPasswordCode",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put(k+"resend-password-code",{email:t}).then((function(e){return e.data}),(function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("user"),localStorage.removeItem("email"),localStorage.removeItem("accessToken"),localStorage.removeItem("username")}},{key:"verifyCode",value:function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put(k+"verify",{email:t,code:c}).then((function(e){return e.data}),(function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()},{key:"resendCode",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put(k+"resend-verify-code",{email:t}).then((function(e){return e.data}),(function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),S=new w,T=c(28),E=c.n(T),C=c(0),I={content:{width:"700px",top:"30%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)"}};var D=function(){var e=n.a.useState(!1),t=Object(m.a)(e,2),c=t[0],a=t[1],i=Object(s.useState)({username:"",email:"",password:""}),d=Object(m.a)(i,2),O=d[0],x=d[1],p=Object(s.useState)(),f=Object(m.a)(p,2),g=f[0],y=f[1],N=Object(l.g)();Object(s.useEffect)((function(){y({username:"The username field is required.",email:"The email is required.",password:"The password field is required."})}),[]);var k=new v([{field:"username",method:"isEmpty",validWhen:!1,message:"The username field is required."},{field:"email",method:"isEmpty",validWhen:!1,message:"The email field is required."},{field:"email",method:"isEmail",validWhen:!0,message:"The email must be a valid email address."},{field:"password",method:"isEmpty",validWhen:!1,message:"The password field is required."},{field:"password",method:"isLength",args:[{min:8}],validWhen:!0,message:"The password must be at least 8 characters."}]),w=function(e){var t=e.target.value;x(Object(r.a)(Object(r.a)({},O),{},Object(u.a)({},e.target.name,t))),y(k.validate(Object(r.a)(Object(r.a)({},O),{},Object(u.a)({},e.target.name,t))))},T=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!0,0!==Object.entries(g).length){e.next=10;break}return e.next=5,S.signup(O.email,O.username,O.password);case 5:c=e.sent,console.log(c.message),'"REGISTER_SUCCESS"'==JSON.stringify(c.message)?(h.b.success("Signup successfully \ud83d\udc4c",{position:h.b.POSITION.BOTTOM_LEFT}),s=O.email,N.push({pathname:"/verify",state:s})):'"EMAIL_ALREADY_EXIST"'==JSON.stringify(c.message)&&a(!0),e.next=13;break;case 10:""!==g.username&&(h.b.error(g.username,{position:h.b.POSITION.BOTTOM_LEFT}),!1,console.log("username")),""!==g.email&&(h.b.error(g.email,{position:h.b.POSITION.BOTTOM_LEFT}),!1,console.log("email")),""!==g.password&&(h.b.error(g.password,{position:h.b.POSITION.BOTTOM_LEFT}),!1,console.log("password"));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function D(){a(!1)}return Object(C.jsxs)("div",{className:"yellow-background signup",children:[Object(C.jsxs)(E.a,{isOpen:c,onRequestClose:D,style:I,children:[Object(C.jsx)("h1",{children:"Error"}),Object(C.jsx)("div",{className:"line"}),Object(C.jsx)("div",{style:{marginBottom:"30px",marginTop:"30px",fontFamily:"Montserrat",fontSize:"22px"},children:"Email already exists!"}),Object(C.jsx)("div",{className:"line"}),Object(C.jsx)("button",{className:"btn btn-primary btn-lg button-center",onClick:D,children:"OK"})]}),Object(C.jsx)(h.a,{}),Object(C.jsxs)("div",{className:"dialog-bg center",children:[Object(C.jsx)("div",{className:"signup-background",children:Object(C.jsx)("img",{src:"./images/sign-up.png"})}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"block-center",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:"./images/Logo.png"})}),Object(C.jsx)("div",{children:Object(C.jsxs)("h4",{style:{marginRight:"20px"},children:[Object(C.jsx)(o.b,{to:"/login",style:{textDecoration:"none",color:"black"},children:"Login "})," \xa0\xa0",Object(C.jsx)(o.b,{to:"#",style:{textDecoration:"none",color:"#FCBD10"},children:"Signup"})," "]})})]}),Object(C.jsxs)("div",{className:"signup-form",children:[Object(C.jsx)("h1",{className:"title",children:"SIGN UP"}),Object(C.jsxs)("h5",{className:"subtitle",children:["Already have an account? "," ",Object(C.jsx)(o.b,{to:"/login",style:{color:"#FCBD10"},children:"Log in"})]}),Object(C.jsxs)("div",{className:"form-group input-icons",children:[Object(C.jsx)("i",{class:"fa fa-envelope-o icon fa-2x","aria-hidden":"true"}),Object(C.jsx)("input",{type:"text",className:"form-control input input-field",name:"email",id:"email",placeholder:"Email",onChange:w}),Object(C.jsx)("i",{class:"fa fa-user-o icon fa-2x","aria-hidden":"true"}),Object(C.jsx)("input",{type:"text",className:"form-control input input-field",name:"username",id:"username",placeholder:"Username",onChange:w}),Object(C.jsx)("i",{class:"fas fa-lock  icon fa-2x"}),Object(C.jsx)("input",{type:"password",className:"form-control input input-field",name:"password",id:"password",placeholder:"Password",onChange:w})]}),Object(C.jsx)("button",{type:"button",class:"btn btn-primary btn-lg button-center",onClick:T,children:"Sign Up"}),Object(C.jsx)("h6",{className:"subtitle forgot-pass",children:Object(C.jsx)(o.b,{to:"/forgot-password",style:{color:"grey"},children:"Forgot your password?"})})]})]})]})]})},B={content:{width:"700px",top:"30%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)"}};var P=function(){var e=n.a.useState(!1),t=Object(m.a)(e,2),c=t[0],a=t[1],i=Object(s.useState)(!1),d=Object(m.a)(i,2),O=d[0],x=d[1],p=Object(s.useState)(),f=Object(m.a)(p,2),g=f[0],y=f[1],N=Object(l.g)(),k=Object(s.useState)({email:"",password:""}),w=Object(m.a)(k,2),T=w[0],I=w[1];Object(s.useEffect)((function(){y({email:"The email is required.",password:"The password field is required."})}),[]);var D=new v([{field:"email",method:"isEmpty",validWhen:!1,message:"The email field is required."},{field:"email",method:"isEmail",validWhen:!0,message:"The email must be a valid email address."},{field:"password",method:"isEmpty",validWhen:!1,message:"The password field is required."},{field:"password",method:"isLength",args:[{min:8}],validWhen:!0,message:"The password must be at least 8 characters."}]),P=function(e){I(Object(r.a)(Object(r.a)({},T),{},Object(u.a)({},e.target.name,e.target.value))),y(D.validate(Object(r.a)(Object(r.a)({},T),{},Object(u.a)({},e.target.name,e.target.value))))},L=function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!0,console.log(g),0!==Object.entries(g).length){e.next=11;break}return e.next=6,S.login(T.email,T.password);case 6:c=e.sent,console.log(c.message),'"LOGIN_SUCCESS"'==JSON.stringify(c.message)?(h.b.success("Login successfully! \ud83c\udf89",{position:h.b.POSITION.BOTTOM_LEFT}),setTimeout((function(){N.push({pathname:"/discover"}),window.location.reload()}),1e3)):'"INCORECT_PASSWORD"'!=JSON.stringify(c.message)&&'"INCORECT_EMAIL"'!=JSON.stringify(c.message)||a(!0),e.next=13;break;case 11:""!==g.email&&(h.b.error(g.email,{position:h.b.POSITION.BOTTOM_LEFT}),!1,console.log("email")),""!==g.password&&(h.b.error(g.password,{position:h.b.POSITION.BOTTOM_LEFT}),!1,console.log("password"));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function F(){a(!1)}return Object(C.jsxs)("div",{className:"yellow-background signup",children:[Object(C.jsxs)(E.a,{isOpen:c,onRequestClose:F,style:B,children:[Object(C.jsx)("h1",{children:"Error"}),Object(C.jsx)("div",{className:"line"}),Object(C.jsx)("div",{style:{marginBottom:"30px",marginTop:"30px",fontFamily:"Montserrat",fontSize:"22px"},children:"Your email or password is not correct! Please try again."}),Object(C.jsx)("div",{className:"line"}),Object(C.jsx)("button",{className:"btn btn-primary btn-lg button-center",onClick:F,children:"OK"})]}),Object(C.jsx)(h.a,{}),Object(C.jsxs)("div",{className:"dialog-bg center",children:[Object(C.jsx)("div",{className:"signup-background",children:Object(C.jsx)("img",{src:"./images/login.png"})}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"block-center",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:"./images/Logo.png"})}),Object(C.jsx)("div",{children:Object(C.jsxs)("h4",{style:{marginRight:"20px"},children:[Object(C.jsx)(o.b,{to:"#",style:{textDecoration:"none",color:"#FCBD10"},children:"Login "})," \xa0\xa0",Object(C.jsx)(o.b,{to:"/signup",style:{textDecoration:"none",color:"black"},children:"Signup"})]})})]}),Object(C.jsxs)("div",{className:"signup-form",children:[Object(C.jsx)("h1",{className:"title",children:"LOG IN"}),Object(C.jsxs)("h5",{className:"subtitle",children:["Don't have an account? "," ",Object(C.jsx)(o.b,{to:"/signup",style:{color:"#FCBD10"},children:"Sign up"})]}),Object(C.jsxs)("div",{className:"form-group input-icons",children:[Object(C.jsx)("i",{className:"fa fa-envelope-o icon fa-2x","aria-hidden":"true"}),Object(C.jsx)("input",{type:"text",className:"form-control input input-field",name:"email",id:"email",placeholder:"Email",onChange:P}),Object(C.jsx)("i",{className:"fas fa-lock  icon fa-2x"}),Object(C.jsx)("input",{type:"password",className:"form-control input input-field",name:"password",id:"password",placeholder:"Password",onChange:P}),Object(C.jsxs)("div",{className:"remember-checkbox",onClick:function(){return x(!O)},children:[Object(C.jsx)("input",{className:"checkbox",type:"checkbox",checked:O}),Object(C.jsx)("h6",{children:Object(C.jsx)("div",{className:"checkbox-text",children:"Remember me?"})})]})]}),Object(C.jsx)("button",{type:"button",className:"btn btn-primary btn-lg button-center",onClick:L,children:"Login"}),Object(C.jsx)("h6",{className:"subtitle forgot-pass",children:Object(C.jsx)(o.b,{to:"/forgot-password",style:{color:"grey"},children:"Forgot your password?"})})]})]})]})]})};var L=function(){var e=Object(l.h)();console.log(e.state);var t=Object(s.useState)(),c=Object(m.a)(t,2),n=c[0],a=c[1],i=Object(l.g)(),d=function(){var t=Object(b.a)(j.a.mark((function t(c){var s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,S.verifyCode(e.state,n.verifyCode);case 3:s=t.sent,'"VERIFY_ACCOUNT_SUCCESS"'==JSON.stringify(s.message)?(h.b.success("Signup successfully \ud83d\udc4c Redirecting...",{position:h.b.POSITION.BOTTOM_LEFT}),setTimeout((function(){i.push({pathname:"/login"})}),3e3)):h.b.error("Verify code is not true!",{position:h.b.POSITION.BOTTOM_LEFT});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(b.a)(j.a.mark((function t(c){var s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,S.resendCode(e.state);case 3:s=t.sent,'"RESEND_VERIFY_CODE_SUCCESS"'==JSON.stringify(s.message)&&h.b.success("A new code has been resent!",{position:h.b.POSITION.BOTTOM_LEFT});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"yellow-background signup",children:[Object(C.jsx)(h.a,{}),Object(C.jsxs)("div",{className:"dialog-bg-verify",children:[Object(C.jsx)("div",{className:"signup-background",children:Object(C.jsx)("img",{src:"./images/sign-up.png"})}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"block-center",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:"./images/Logo.png"})}),Object(C.jsx)("div",{children:Object(C.jsxs)("h4",{style:{marginRight:"20px"},children:[Object(C.jsx)(o.b,{to:"/login",style:{textDecoration:"none",color:"black"},children:"Login "})," \xa0\xa0",Object(C.jsx)(o.b,{to:"signup",style:{textDecoration:"none",color:"#FCBD10"},children:"Signup"})," "]})})]}),Object(C.jsxs)("div",{className:"signup-form",children:[Object(C.jsx)("h1",{className:"title",children:"SIGN UP"}),Object(C.jsxs)("h5",{className:"subtitle",children:["Already have an account? "," ",Object(C.jsx)(o.b,{to:"/login",style:{color:"#FCBD10"},children:"Log in"})]}),Object(C.jsx)("div",{className:"blank"}),Object(C.jsx)("div",{className:"form-group input-icons",children:Object(C.jsx)("input",{type:"text",className:"form-control input input-field",name:"verifyCode",id:"verifyCode",placeholder:"Verify code",onChange:function(e){var t=e.target.value;a(Object(r.a)(Object(r.a)({},n),{},Object(u.a)({},e.target.name,t)))}})}),Object(C.jsx)("div",{className:"blank"}),Object(C.jsx)("div",{className:"blank"}),Object(C.jsx)("button",{type:"button",class:"btn btn-primary btn-lg button-center",onClick:d,children:"Verify"}),Object(C.jsx)("h6",{className:"subtitle forgot-pass",style:{color:"grey",marginTop:"40px",cursor:"pointer"},onClick:O,children:"Resend a verify passcode"})]})]})]})]})};var F=function(){var e=Object(s.useState)({email:""}),t=Object(m.a)(e,2),c=t[0],n=t[1],a=Object(l.g)(),i=function(){var e=Object(b.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,S.forgotPassword(c.email);case 3:s=e.sent,'"FORGOT_PASSWORD_SUCCESS"'==JSON.stringify(s.message)?a.push({pathname:"/new-password",state:c.email}):'"EMAIL_NOT_FOUND"'==JSON.stringify(s.message)?h.b.error("Email is not found!",{position:h.b.POSITION.BOTTOM_LEFT}):h.b.error("Email is not valid!",{position:h.b.POSITION.BOTTOM_LEFT});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"yellow-background signup",children:[Object(C.jsx)(h.a,{}),Object(C.jsxs)("div",{className:"dialog-bg-verify",children:[Object(C.jsx)("div",{className:"signup-background",children:Object(C.jsx)("img",{src:"./images/reset-pass.png"})}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"block-center",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:"./images/Logo.png"})}),Object(C.jsx)("div",{children:Object(C.jsxs)("h4",{style:{marginRight:"20px"},children:[Object(C.jsx)(o.b,{to:"/login",style:{textDecoration:"none",color:"black"},children:"Login "})," \xa0\xa0",Object(C.jsx)(o.b,{to:"/signup",style:{textDecoration:"none",color:"black"},children:" Signup"})," "]})})]}),Object(C.jsxs)("div",{className:"signup-form",children:[Object(C.jsx)("h1",{className:"title",children:"Forgot password"}),Object(C.jsx)("div",{className:"blank"}),Object(C.jsx)("div",{className:"form-group input-icons",children:Object(C.jsx)("input",{type:"text",className:"form-control input",name:"email",id:"email",placeholder:"Enter your email",onChange:function(e){var t=e.target.value;n(Object(r.a)(Object(r.a)({},c),{},Object(u.a)({},e.target.name,t)))}})}),Object(C.jsx)("div",{className:"blank"}),Object(C.jsx)("div",{className:"blank"}),Object(C.jsx)("button",{type:"button",class:"btn btn-primary btn-lg button-center",onClick:i,children:"Send"})]})]})]})]})};var M=function(){var e=Object(s.useState)({code:"",newPassword:""}),t=Object(m.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(),i=Object(m.a)(a,2),d=i[0],O=i[1],x=Object(l.g)(),p=Object(l.h)();Object(s.useEffect)((function(){O({code:"The code field is required.",newPassword:"The password field is required."})}),[]);var f=new v([{field:"code",method:"isEmpty",validWhen:!1,message:"The code field is required."},{field:"newPassword",method:"isEmpty",validWhen:!1,message:"The password field is required."},{field:"newPassword",method:"isLength",args:[{min:8}],validWhen:!0,message:"The password must be at least 8 characters."}]),g=function(e){var t=e.target.value;n(Object(r.a)(Object(r.a)({},c),{},Object(u.a)({},e.target.name,t))),O(f.validate(Object(r.a)(Object(r.a)({},c),{},Object(u.a)({},e.target.name,t))))},y=function(){var e=Object(b.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!0,0!==Object.entries(d).length){e.next=10;break}return e.next=5,S.resetPassword(p.state,c.code,c.newPassword);case 5:s=e.sent,console.log(s.message),'"RESET_PASSWORD_SUCCESS"'==JSON.stringify(s.message)?(h.b.success("Reset password successfully \ud83d\udc4c Redirecting...",{position:h.b.POSITION.BOTTOM_LEFT}),setTimeout((function(){x.push({pathname:"/login"})}),3e3)):'"INVALID_CODE"'==JSON.stringify(s.message)&&h.b.error("Invalid code!",{position:h.b.POSITION.BOTTOM_LEFT}),e.next=12;break;case 10:""!==d.code&&(h.b.error(d.code,{position:h.b.POSITION.BOTTOM_LEFT}),!1,console.log("code")),""!==d.newPassword&&(h.b.error(d.newPassword,{position:h.b.POSITION.BOTTOM_LEFT}),!1,console.log("newPassword"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,S.resendPasswordCode(p.state);case 3:c=e.sent,'"RESEND_PASSWORD_CODE_SUCCESS"'==JSON.stringify(c.message)&&h.b.success("A new code has been resent!",{position:h.b.POSITION.BOTTOM_LEFT});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"yellow-background signup",children:[Object(C.jsx)(h.a,{}),Object(C.jsxs)("div",{className:"dialog-bg center",children:[Object(C.jsx)("div",{className:"signup-background",children:Object(C.jsx)("img",{src:"./images/new-pass.png"})}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"block-center",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:"./images/Logo.png"})}),Object(C.jsx)("div",{children:Object(C.jsxs)("h4",{style:{marginRight:"20px"},children:[Object(C.jsx)(o.b,{to:"/login",style:{textDecoration:"none",color:"black"},children:"Login "})," \xa0\xa0",Object(C.jsx)(o.b,{to:"/signup",style:{textDecoration:"none",color:"black"},children:"Signup"})," "]})})]}),Object(C.jsxs)("div",{className:"signup-form",children:[Object(C.jsx)("h1",{className:"title",children:"RESET PASSWORD"}),Object(C.jsxs)("div",{className:"form-group input-icons",children:[Object(C.jsx)("i",{class:"fa fa-envelope-o icon fa-2x","aria-hidden":"true"}),Object(C.jsx)("input",{type:"text",className:"form-control input input-field",value:p.state,name:"email",id:"email",placeholder:"Email",onChange:g}),Object(C.jsx)("i",{class:"fa fa-user-o icon fa-2x","aria-hidden":"true"}),Object(C.jsx)("input",{type:"text",className:"form-control input input-field",name:"code",id:"code",placeholder:"Code",onChange:g}),Object(C.jsx)("i",{class:"fas fa-lock  icon fa-2x"}),Object(C.jsx)("input",{type:"password",className:"form-control input input-field",name:"newPassword",id:"newPassword",placeholder:"New password",onChange:g})]}),Object(C.jsx)("button",{type:"button",class:"btn btn-primary btn-lg button-center",onClick:y,children:"RESET PASSWORD"}),Object(C.jsx)("h6",{className:"subtitle forgot-pass",style:{color:"grey",marginTop:"20px",cursor:"pointer"},onClick:N,children:"Resend a new code"})]})]})]})]})},R=c(75),_=function(){function e(){Object(x.a)(this,e)}return Object(p.a)(e,null,[{key:"userID",get:function(){var t=e.token;return""===t?"":Object(R.a)(t).id}},{key:"token",get:function(){return localStorage.getItem("accessToken")}},{key:"username",get:function(){return localStorage.getItem("username")}},{key:"bookID",get:function(){return localStorage.getItem("bookID")}}]),e}();var A=function(){var e=Object(l.g)();return Object(C.jsxs)("div",{children:[Object(C.jsx)("nav",{className:"navbar d-inline-flex",children:Object(C.jsxs)("div",{className:"text",children:[Object(C.jsx)("p",{className:"nav-text",children:"Subcribe to emotion and knowledge, to balance"}),Object(C.jsx)("p",{className:"nav-text",children:"  and critical thinking, to the pleasure that"}),Object(C.jsx)("p",{className:"nav-text",children:"only reading can provide"}),Object(C.jsx)("input",{type:"button",className:"btn-start",value:"Get started",onClick:function(){!0===(""!==_.token&&null!==_.token)?e.push("/discover"):e.push("/signup")}})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-md-7 col-sm-6 col-xs-12",children:Object(C.jsxs)("div",{className:"sub",children:[Object(C.jsx)("h1",{children:"Get immediate access to books, audiobooks, magazines and more for just $8.99/month"}),Object(C.jsx)("div",{className:"blank"}),Object(C.jsx)("input",{type:"button",className:"btn-sub",value:"Subcribe now",onClick:function(){}})]})}),Object(C.jsx)("div",{className:"col-md-5 col-sm-6 col-xs-12",children:Object(C.jsx)("img",{className:"img-body",src:"./images/ebook-thumb.png",alt:""})})]})})]})};function U(){var e=localStorage.getItem("accessToken");if(e)return{Authorization:e}}var z="https://nice-book.herokuapp.com/api/v1/users/",W=new(function(){function e(){Object(x.a)(this,e)}return Object(p.a)(e,[{key:"getProfileUser",value:function(e){return N.a.get(z+e,{headers:U()})}},{key:"editProfileUser",value:function(e,t,c,s,n,a,i,r,o,l,d){return N.a.put(z+e,{username:t,email:c,fullname:s,avatar:n,DoB:a,gender:i,phone:r,address:o,payment:l,password:d},{headers:U()}).then((function(e){return e.data}),(function(e){return e.response.data}))}}]),e}());var Y=function(e){return Object(C.jsxs)("div",{className:"d-container",children:[Object(C.jsx)("span",{className:"d-content",children:e.children}),Object(C.jsx)("div",{className:"d-border"})]})},q=c(24),J=c.n(q),G="https://nice-book.herokuapp.com/api/v1/users/",V=new(function(){function e(){Object(x.a)(this,e)}return Object(p.a)(e,[{key:"getReadings",value:function(e){return N.a.get(G+e+"/books/reading",{headers:U()})}},{key:"getFavourites",value:function(e){return N.a.get(G+e+"/books/favorites",{headers:U()})}},{key:"getReadLater",value:function(e){return N.a.get(G+e+"/books/read-after",{headers:U()})}}]),e}());var H=function(e){return Object(C.jsx)("div",{className:"book-thumbnail-container",children:Object(C.jsxs)("div",{className:"card book-card ",children:[Object(C.jsx)("img",{className:"card-img-top image-thumbnail ",src:e.image,alt:"Card image"}),Object(C.jsxs)("div",{className:"card-body",style:{whiteSpace:"nowrap"},children:[Object(C.jsx)("h4",{className:"card-title email-row",children:e.bookName}),Object(C.jsxs)("p",{className:"card-text email-row ",children:["Author: ",e.author]}),Object(C.jsx)(o.b,{to:"/books/"+e.id,className:"btn btn-primary",children:"View Book"})]})]})})};var K=function(){var e=Object(l.g)(),t=_.userID,c=Object(s.useState)({fullname:"",gender:"",DoB:"",phone:"",address:"",email:"",payment:"",avatar:""}),n=Object(m.a)(c,2),a=n[0],i=n[1],r=Object(s.useState)(),d=Object(m.a)(r,2),j=d[0],b=d[1],u=Object(s.useState)(),h=Object(m.a)(u,2),O=h[0],x=h[1],p=Object(s.useState)(),f=Object(m.a)(p,2),g=f[0],v=f[1];return Object(s.useEffect)((function(){W.getProfileUser(t).then((function(e){i(e.data)})).catch((function(e){return console.log(e)})),V.getReadings(t).then((function(e){var t=e.data.reading.slice(0,5).map((function(e){return Object(C.jsx)("div",{className:"book-container",children:Object(C.jsx)("img",{src:e.image,className:"book-image"})})}));b(t)})).catch((function(e){return console.log(e)})),V.getFavourites(t).then((function(e){var t=e.data.favorites.slice(0,5).map((function(e){return Object(C.jsx)("div",{className:"book-container",children:Object(C.jsx)("img",{src:e.image,className:"book-image"})})}));x(t)})).catch((function(e){return console.log(e)})),V.getReadLater(t).then((function(e){var t=e.data.readLater;console.log(t);var c=t.slice(0,5).map((function(e){return Object(C.jsx)("div",{className:"book-container",children:Object(C.jsx)("img",{src:e.image,className:"book-image"})})}));v(c)})).catch((function(e){return console.log(e)}))}),[]),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{class:"row profile-row",children:[Object(C.jsx)("div",{className:"col-xs-3 col-sm-3 col-md-3 col-lg-3",children:Object(C.jsxs)("div",{className:"profile-col",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"profile-avatar",src:""===a.avatar||"undefined"===typeof a.avatar?"https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg":a.avatar})}),Object(C.jsx)("div",{className:"blank"}),Object(C.jsx)(Y,{children:"PROFILE"}),Object(C.jsx)("div",{className:"blank15"}),Object(C.jsxs)("div",{className:"block-center",style:{padding:0},children:[Object(C.jsx)("div",{className:"profile-fullname",children:a.fullname}),Object(C.jsx)("button",{type:"button",className:"btn btn-primary btn-lg p-edit-button",onClick:function(){e.push({pathname:"/profile/edit"})},children:"Edit"})]}),Object(C.jsxs)("div",{className:"profile-id",children:["#",t.substr(t.length-4,4)]}),Object(C.jsxs)("div",{className:"profile-info",children:[Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Birthday: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[J()(a.DoB).format("DD MMMM, YYYY")," "]})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Gender: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.gender})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Phone: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[a.phone," "]})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Address: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[a.address," "]})})]}),Object(C.jsxs)("div",{class:"row  email-row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Email: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.email})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Payment: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.payment})})]})]})]})}),Object(C.jsx)("div",{className:"col-xs-9 col-sm-9 col-md-9 col-lg-9 profile-books-col",children:Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"block-center",style:{padding:0},children:[Object(C.jsx)("div",{className:"book-row-title",children:"Reading"}),Object(C.jsxs)(o.b,{to:"/profile/readings",style:{fontFamily:'"Montserrat", sans-serif',color:"black"},children:["See more ",">>>"," "]})]}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"book-row",children:j}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsxs)("div",{className:"block-center",style:{padding:0},children:[Object(C.jsx)("div",{className:"book-row-title",children:"Favourite"}),Object(C.jsxs)(o.b,{to:"/profile/favourites",style:{fontFamily:'"Montserrat", sans-serif',color:"black"},children:["See more ",">>>"," "]})]}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"book-row",children:O}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsxs)("div",{className:"block-center",style:{padding:0},children:[Object(C.jsx)("div",{className:"book-row-title",children:"Read later"}),Object(C.jsxs)(o.b,{to:"/profile/read-later",style:{fontFamily:'"Montserrat", sans-serif',color:"black"},children:["See more ",">>>"," "]})]}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"book-row",children:g})]})})]})})},X=function(){function e(){Object(x.a)(this,e)}return Object(p.a)(e,[{key:"uploadImage",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("https://nice-book.herokuapp.com/api/v1/medias/upload",t,{headers:U()}).then((function(e){return e.data.body[0]}),(function(e){return console.log(e.response.data),e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();new X;var Q=function(){var e=Object(s.useState)(""),t=Object(m.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)({username:"",fullname:"",avatar:"",gender:"",DoB:"",phone:"",address:"",email:"",payment:""}),i=Object(m.a)(a,2),o=i[0],d=i[1],O=Object(l.g)(),x=_.userID;Object(s.useEffect)((function(){W.getProfileUser(x).then((function(e){d(e.data)})).catch((function(e){return console.log(e)}))}),[]);var p=function(e){d(Object(r.a)(Object(r.a)({},o),{},Object(u.a)({},e.target.name,e.target.value)))},f=function(e){for(var t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=c.length,n=0;n<e;n++)t+=c.charAt(Math.floor(Math.random()*s));return t},g=function(){var e=Object(b.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=new FormData).append("file",c),t.append("upload_preset","q6itp6nm"),s=f(10),t.append("public_id",s),null==c.name||"jpg"!=c.name.slice(-3)&&"png"!=c.name.slice(-3)){e.next=12;break}return h.b.info("Uploading...",{position:h.b.POSITION.BOTTOM_LEFT}),s+="."+c.name.slice(-3),e.next=10,N.a.post("https://api.cloudinary.com/v1_1/dzdq5mium/image/upload",t).then((function(e){if(console.log(e),""!=s){var t="https://res.cloudinary.com/dzdq5mium/image/upload/v1635087942/"+s;console.log(o.avatar),d(Object(r.a)(Object(r.a)({},o),{},{avatar:t})),s="",e&&h.b.success("Upload image successfully...",{position:h.b.POSITION.BOTTOM_LEFT})}}));case 10:e.next=13;break;case 12:h.b.error("Please choose correct type (jpg, png).",{position:h.b.POSITION.BOTTOM_LEFT});case 13:console.log(o);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)(h.a,{}),Object(C.jsxs)("div",{className:"row profile-row",children:[Object(C.jsx)("div",{className:"col-xs-3 col-sm-3 col-md-3 col-lg-3",children:Object(C.jsxs)("div",{className:"profile-col",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"profile-avatar",src:""===o.avatar||"undefined"===typeof o.avatar?"https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg":o.avatar})}),Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"20px"},children:[Object(C.jsx)("input",{type:"file",accept:"image/png, image/jpg",style:{border:"1px solid grey"},onChange:function(e){return n(e.target.files[0])},className:"custom-file-input"}),Object(C.jsx)("button",{onClick:g,style:{backgroundColor:"#ffc700",border:"1px solid grey"},children:"Upload"})]})]})}),Object(C.jsxs)("div",{className:"col-xs-9 col-sm-9 col-md-9 col-lg-9 edit-profile",style:{display:"flex",flexDirection:"column"},children:[Object(C.jsx)("h1",{children:"PROFILE SETTING"}),Object(C.jsx)("div",{style:{border:"1px solid black"}}),Object(C.jsxs)("div",{className:"inf-element",style:{marginTop:"10px"},children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{className:"inf-label-text",children:"ID:"}),Object(C.jsx)("p",{className:"inf-label-text",children:"Username:"}),Object(C.jsx)("p",{className:"inf-label-text",children:"Full name:"}),Object(C.jsx)("p",{className:"inf-label-text",children:"Birth day:"}),Object(C.jsx)("p",{className:"inf-label-text",children:"Gender:"}),Object(C.jsx)("p",{className:"inf-label-text",children:"Phone:"}),Object(C.jsx)("p",{className:"inf-label-text",children:"Address:"}),Object(C.jsx)("p",{className:"inf-label-text",children:"Email:"}),Object(C.jsx)("p",{className:"inf-label-text",children:"Payment:"})]}),Object(C.jsxs)("div",{style:{width:"90%"},children:[Object(C.jsx)("input",{className:"inf-input form-control",type:"text",name:"ID",value:x,readOnly:!0}),Object(C.jsx)("input",{className:"inf-input form-control",type:"text",name:"username",value:o.username,onChange:p,readOnly:!0}),Object(C.jsx)("input",{className:"inf-input form-control",type:"text",name:"fullname",value:o.fullname,onChange:p}),Object(C.jsx)("input",{className:"inf-input form-control",type:"date",name:"DoB",value:null==o.DoB?o.DoB:o.DoB.slice(0,10),onChange:p}),Object(C.jsx)("input",{className:"inf-input form-control",type:"text",placeholder:"Only FEMALE or MALE",name:"gender",value:o.gender,onChange:p}),Object(C.jsx)("input",{className:"inf-input form-control",type:"text",name:"phone",value:o.phone,onChange:p}),Object(C.jsx)("input",{className:"inf-input form-control",type:"text",name:"address",value:o.address,onChange:p}),Object(C.jsx)("input",{className:"inf-input form-control",type:"text",name:"email",value:o.email,onChange:p,readOnly:!0}),Object(C.jsx)("input",{className:"inf-input form-control",type:"text",name:"payment",value:o.payment,onChange:p})]})]}),Object(C.jsx)("button",{type:"button",className:"btn btn-primary btn-lg edit-button",onClick:function(){if(console.log(o.gender),"FEMALE"!=o.gender&&"MALE"!=o.gender&&void 0!==o.gender&&""!=o.gender)h.b.error("Gender must be FEMALE or MALE.",{position:h.b.POSITION.BOTTOM_LEFT});else{var e=W.editProfileUser(x,o.username,o.email,o.fullname,o.avatar,o.DoB,o.gender,o.phone,o.address,o.payment);console.log(e),O.push({pathname:"/profile"})}},children:"SAVE"})]})]})]})},Z="https://nice-book.herokuapp.com/api/v1/books",$=function(){function e(){Object(x.a)(this,e)}return Object(p.a)(e,[{key:"getDetailBook",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Z+"/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchBook",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.stringify(t),console.log(JSON.stringify(c)),e.next=4,N.a.get(Z+"?filter="+JSON.stringify(c)).then((function(e){return e.data.docs}),(function(e){return e.response.data}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllGenres",value:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Z+"/genres");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getNewReleaseBook",value:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JSON.stringify(t),e.next=3,N.a.get(Z+"?limit=10&orderBy=-publicationDate");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTopBook",value:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Z+"?limit=10&orderBy=-trending");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ee=new $;var te=function(){var e=Object(s.useState)([]),t=Object(m.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){ee.getAllGenres().then((function(e){var t=e.data;n(t),console.log(c)})).catch((function(e){return console.log(e)}))}),[]),Object(C.jsxs)("header",{className:"header-book",children:[Object(C.jsx)("button",{className:"btn-header",children:Object(C.jsx)(o.b,{to:"/discover",style:{textDecoration:"none",color:"black"},children:"Discover"})})," \xa0",Object(C.jsx)("button",{className:"btn-header",children:Object(C.jsx)(o.b,{to:"/trending",style:{textDecoration:"none",color:"black"},children:"Top Books"})})," \xa0",Object(C.jsx)("button",{className:"btn-header",children:Object(C.jsx)(o.b,{to:"/new-release",style:{textDecoration:"none",color:"black"},children:"New Release"})})," \xa0",Object(C.jsx)("button",{className:"btn-header",children:Object(C.jsx)(o.b,{to:"/recommend",style:{textDecoration:"none",color:"black"},children:"Recommended"})})," \xa0",Object(C.jsxs)("div",{className:"dropdown",style:{display:"flex",flexDirection:"row"},children:[Object(C.jsx)("div",{style:{marginTop:"20px",background:"white",border:"none",fontWeight:"600",marginBottom:"20px"},children:"Categories"}),Object(C.jsx)("div",{className:"dropdown-header-book",onClick:function(){window.location.reload()},children:function(e){return e.map((function(e){return Object(C.jsx)("p",{children:Object(C.jsx)(o.b,{style:{textDecoration:"none",color:"black"},to:"/category/"+e,children:e})})}))}(c)}),Object(C.jsx)("i",{class:"fas fa-angle-down",style:{marginTop:"25px",marginLeft:"10px"}})]})]})};var ce=function(e){var t=e.match.params.id;console.log(t);var c=Object(s.useState)({genres:[],ratings:[],title:"",author:"",image:"",page:"",downloads:"",view:"",price:"",content:"",summary:""}),n=Object(m.a)(c,2),a=n[0],i=n[1];return Object(s.useEffect)((function(){ee.getDetailBook(t).then((function(e){console.log(e.data),i(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsxs)("div",{className:"row profile-row",children:[Object(C.jsx)("div",{className:"col-xs-3 col-sm-3 col-md-3 col-lg-3",children:Object(C.jsxs)("div",{className:"book-col",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"book-image",src:""===a.image||"undefined"===typeof a.image?"https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg":a.image})}),Object(C.jsx)("button",{class:"btn btn-primary btn-lg",style:{margin:"5px",marginTop:"10px",backgroundColor:"#ffc700",borderColor:"#ffc700"},children:Object(C.jsx)(o.b,{to:"/"+t,style:{color:"white",textDecoration:"none"},children:"Read"})}),Object(C.jsx)("button",{class:"btn btn-primary btn-lg",style:{margin:"5px",backgroundColor:"white",color:"#ffc700",borderColor:"#ffc700"},children:Object(C.jsx)(o.b,{to:"/"+t,style:{color:"#ffc700",textDecoration:"none"},children:"Listen to audio"})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("i",{class:"far fa-bookmark fa-1x",style:{marginLeft:"2px"}}),Object(C.jsx)("button",{class:"btn btn-primary btn-lg",style:{margin:"5px",backgroundColor:"white",color:"black",border:"none"},children:"Save for later"})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-download",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}),Object(C.jsx)("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"})]}),Object(C.jsx)("button",{class:"btn btn-primary btn-lg",style:{margin:"5px",backgroundColor:"white",color:"black",border:"none"},children:"Download"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-share",viewBox:"0 0 16 16",children:Object(C.jsx)("path",{d:"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"})}),Object(C.jsx)("button",{class:"btn btn-primary btn-lg",style:{margin:"5px",backgroundColor:"white",color:"black",border:"none"},children:"To Share"})]})]})}),Object(C.jsxs)("div",{className:"col-xs-9 col-sm-9 col-md-9 col-lg-9 book-detail",style:{display:"flex",flexDirection:"column"},children:[Object(C.jsxs)("h6",{style:{color:"#224362"},children:["Home",Object(C.jsx)("i",{class:"fas fa-angle-right",style:{marginLeft:"5px",marginRight:"5px"}}),"Categories",Object(C.jsx)("i",{class:"fas fa-angle-right",style:{marginLeft:"5px",marginRight:"5px"}}),"Art"]}),Object(C.jsx)("h1",{children:a.title}),Object(C.jsxs)("div",{className:"author",children:["Written by:\xa0",Object(C.jsx)("div",{className:"author-name",children:a.author})]}),Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"row",color:"#427F93"},children:[Object(C.jsxs)("div",{style:{marginRight:"10px",color:"#ffc700"},children:[Object(C.jsx)("i",{class:"fas fa-star"}),Object(C.jsx)("i",{class:"fas fa-star"}),Object(C.jsx)("i",{class:"fas fa-star"}),Object(C.jsx)("i",{class:"fas fa-star"}),Object(C.jsx)("i",{class:"fas fa-star"})]}),a.ratings.length," \xa0",Object(C.jsx)("p",{children:"Ratings"})," \xa0",Object(C.jsxs)("div",{style:{color:"grey",marginLeft:"30px"},children:[Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-newspaper",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M0 2.5A1.5 1.5 0 0 1 1.5 1h11A1.5 1.5 0 0 1 14 2.5v10.528c0 .3-.05.654-.238.972h.738a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 1 1 0v9a1.5 1.5 0 0 1-1.5 1.5H1.497A1.497 1.497 0 0 1 0 13.5v-11zM12 14c.37 0 .654-.211.853-.441.092-.106.147-.279.147-.531V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5v11c0 .278.223.5.497.5H12z"}),Object(C.jsx)("path",{d:"M2 3h10v2H2V3zm0 3h4v3H2V6zm0 4h4v1H2v-1zm0 2h4v1H2v-1zm5-6h2v1H7V6zm3 0h2v1h-2V6zM7 8h2v1H7V8zm3 0h2v1h-2V8zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1z"})]})," \xa0",a.page]})," \xa0",Object(C.jsx)("p",{style:{color:"grey"},children:"pages"})]}),Object(C.jsx)("div",{style:{border:"1px solid grey"},children:" "}),Object(C.jsx)("div",{className:"content-book",children:a.summary})]})]})]})};var se=function(){var e=Object(l.g)(),t=_.userID,c=Object(s.useState)({fullname:"",gender:"",DoB:"",phone:"",address:"",email:"",payment:"",avatar:""}),n=Object(m.a)(c,2),a=n[0],i=n[1],r=Object(s.useState)(),o=Object(m.a)(r,2),d=o[0],j=o[1];return Object(s.useEffect)((function(){W.getProfileUser(t).then((function(e){i(e.data)})).catch((function(e){return console.log(e)})),V.getReadings(t).then((function(e){var t=e.data.reading.map((function(e){return Object(C.jsx)(H,{id:e._id,bookName:e.title,author:e.author,image:e.image})}));j(t)})).catch((function(e){return console.log(e)}))}),[]),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{class:"row profile-row",children:[Object(C.jsx)("div",{className:"col-xs-3 col-sm-3 col-md-3 col-lg-3",children:Object(C.jsxs)("div",{className:"profile-col",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"profile-avatar",src:""===a.avatar||"undefined"===typeof a.avatar?"https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg":a.avatar})}),Object(C.jsx)("div",{className:"blank"}),Object(C.jsx)(Y,{children:"PROFILE"}),Object(C.jsx)("div",{className:"blank15"}),Object(C.jsxs)("div",{className:"block-center",style:{padding:0},children:[Object(C.jsx)("div",{className:"profile-fullname",children:a.fullname}),Object(C.jsx)("button",{type:"button",className:"btn btn-primary btn-lg p-edit-button",onClick:function(){e.push({pathname:"/profile/edit"})},children:"Edit"})]}),Object(C.jsxs)("div",{className:"profile-id",children:["#",t.substr(t.length-4,4)]}),Object(C.jsxs)("div",{className:"profile-info",children:[Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Birthday: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[J()(a.DoB).format("DD MMMM, YYYY")," "]})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Gender: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.gender})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Phone: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[a.phone," "]})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Address: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[a.address," "]})})]}),Object(C.jsxs)("div",{class:"row  email-row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Email: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.email})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Payment: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.payment})})]})]})]})}),Object(C.jsx)("div",{className:"col-xs-9 col-sm-9 col-md-9 col-lg-9 profile-books-col",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"block-center",style:{padding:0},children:Object(C.jsx)("div",{className:"book-row-title",children:"Reading"})}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"book-row",children:d})]})})]})})};var ne=function(){var e=Object(l.g)(),t=_.userID,c=Object(s.useState)({fullname:"",gender:"",DoB:"",phone:"",address:"",email:"",payment:"",avatar:""}),n=Object(m.a)(c,2),a=n[0],i=n[1],r=Object(s.useState)(),o=Object(m.a)(r,2),d=o[0],j=o[1];return Object(s.useEffect)((function(){W.getProfileUser(t).then((function(e){i(e.data)})).catch((function(e){return console.log(e)})),V.getFavourites(t).then((function(e){var t=e.data.favorites.map((function(e){return Object(C.jsx)(H,{id:e._id,bookName:e.title,author:e.author,image:e.image})}));j(t)})).catch((function(e){return console.log(e)}))}),[]),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{class:"row profile-row",children:[Object(C.jsx)("div",{className:"col-xs-3 col-sm-3 col-md-3 col-lg-3",children:Object(C.jsxs)("div",{className:"profile-col",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"profile-avatar",src:""===a.avatar||"undefined"===typeof a.avatar?"https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg":a.avatar})}),Object(C.jsx)("div",{className:"blank"}),Object(C.jsx)(Y,{children:"PROFILE"}),Object(C.jsx)("div",{className:"blank15"}),Object(C.jsxs)("div",{className:"block-center",style:{padding:0},children:[Object(C.jsx)("div",{className:"profile-fullname",children:a.fullname}),Object(C.jsx)("button",{type:"button",className:"btn btn-primary btn-lg p-edit-button",onClick:function(){e.push({pathname:"/profile/edit"})},children:"Edit"})]}),Object(C.jsxs)("div",{className:"profile-id",children:["#",t.substr(t.length-4,4)]}),Object(C.jsxs)("div",{className:"profile-info",children:[Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Birthday: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[J()(a.DoB).format("DD MMMM, YYYY")," "]})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Gender: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.gender})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Phone: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[a.phone," "]})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Address: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[a.address," "]})})]}),Object(C.jsxs)("div",{class:"row  email-row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Email: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.email})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Payment: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.payment})})]})]})]})}),Object(C.jsx)("div",{className:"col-xs-9 col-sm-9 col-md-9 col-lg-9 profile-books-col",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"block-center",style:{padding:0},children:Object(C.jsx)("div",{className:"book-row-title",children:"Favourites"})}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"book-row",children:d})]})})]})})};var ae=function(){var e=Object(l.g)(),t=_.userID,c=Object(s.useState)({fullname:"",gender:"",DoB:"",phone:"",address:"",email:"",payment:"",avatar:""}),n=Object(m.a)(c,2),a=n[0],i=n[1],r=Object(s.useState)(),o=Object(m.a)(r,2),d=o[0],j=o[1];return Object(s.useEffect)((function(){W.getProfileUser(t).then((function(e){i(e.data)})).catch((function(e){return console.log(e)})),V.getReadLater(t).then((function(e){var t=e.data.readLater.map((function(e){return Object(C.jsx)(H,{id:e._id,bookName:e.title,author:e.author,image:e.image})}));j(t)})).catch((function(e){return console.log(e)}))}),[]),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{class:"row profile-row",children:[Object(C.jsx)("div",{className:"col-xs-3 col-sm-3 col-md-3 col-lg-3",children:Object(C.jsxs)("div",{className:"profile-col",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"profile-avatar",src:""===a.avatar||"undefined"===typeof a.avatar?"https://docsbydesign.com/wp-content/uploads/2015/08/readingbook.jpg":a.avatar})}),Object(C.jsx)("div",{className:"blank"}),Object(C.jsx)(Y,{children:"PROFILE"}),Object(C.jsx)("div",{className:"blank15"}),Object(C.jsxs)("div",{className:"block-center",style:{padding:0},children:[Object(C.jsx)("div",{className:"profile-fullname",children:a.fullname}),Object(C.jsx)("button",{type:"button",className:"btn btn-primary btn-lg p-edit-button",onClick:function(){e.push({pathname:"/profile/edit"})},children:"Edit"})]}),Object(C.jsxs)("div",{className:"profile-id",children:["#",t.substr(t.length-4,4)]}),Object(C.jsxs)("div",{className:"profile-info",children:[Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Birthday: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[J()(a.DoB).format("DD MMMM, YYYY")," "]})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Gender: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.gender})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Phone: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[a.phone," "]})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Address: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsxs)("h6",{children:[a.address," "]})})]}),Object(C.jsxs)("div",{class:"row  email-row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Email: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.email})})]}),Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 info-title",children:Object(C.jsx)("h6",{children:"Payment: "})}),Object(C.jsx)("div",{class:"col-xs-8 col-sm-8 col-md-8 col-lg-8 info-content",children:Object(C.jsx)("h6",{children:a.payment})})]})]})]})}),Object(C.jsx)("div",{className:"col-xs-9 col-sm-9 col-md-9 col-lg-9 profile-books-col",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"block-center",style:{padding:0},children:Object(C.jsx)("div",{className:"book-row-title",children:"Read Later"})}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"book-row",children:d})]})})]})})},ie=c(21),re=c.p+"static/media/loading.6f480ba5.gif";var oe=function(){var e=Object(l.h)(),t=Object(s.useState)([]),c=Object(m.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(!1),r=Object(m.a)(i,2),o=r[0],d=r[1],u=e.state;return Object(ie.useEffect)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(u),d(!0);case 2:case"end":return e.stop()}}),e)}))),[u]),!1===o?Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{style:{height:"100vh"},children:Object(C.jsx)("img",{className:"img-loading",src:re,style:{height:"100vh"}})})]}):u&&0===u.length&&o?Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{style:{height:"100vh"},children:Object(C.jsx)("img",{className:"img-not-found",src:"../images/book-not-found.png"})})]}):Object(C.jsxs)("div",{className:"search-page",children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{className:"book-row",children:function(e){return e.map((function(e){return Object(C.jsx)(H,{id:e._id,bookName:e.title,author:e.author,image:e.image})}))}(n)})]})};var le=function(e){var t=e.match.params.name;console.log(t);var c,n=Object(s.useState)([]),a=Object(m.a)(n,2),i=a[0],r=a[1],o=Object(s.useState)({genres:t}),l=Object(m.a)(o,2),d=l[0],u=(l[1],Object(s.useState)(!1)),h=Object(m.a)(u,2),O=h[0],x=h[1];return Object(ie.useEffect)((function(){return Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.searchBook(d);case 2:t=e.sent,r(t),x(!0);case 5:case"end":return e.stop()}}),e)})))()}),[t]),!1===O?Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{style:{height:"100vh"},children:Object(C.jsx)("img",{className:"img-loading",src:re,style:{height:"100vh"}})})]}):0===i.length&&O?Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsxs)("div",{className:"book-row-title",style:{textAlign:"center"},children:["Category: ",t]}),Object(C.jsx)("div",{style:{height:"100vh"},children:Object(C.jsx)("img",{className:"img-not-found",src:"../images/book-not-found.png"})})]}):Object(C.jsxs)("div",{className:"search-page",children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsxs)("div",{className:"book-row-title",style:{textAlign:"center"},children:["Category: ",t]}),Object(C.jsx)("div",{className:"book-row",children:(c=i,c.map((function(e){return Object(C.jsx)(H,{id:e._id,bookName:e.title,author:e.author,image:e.image})})))})]})};var de=function(){var e,t=Object(s.useState)([]),c=Object(m.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(!1),r=Object(m.a)(i,2),o=r[0],l=r[1];return Object(ie.useEffect)((function(){ee.getTopBook().then((function(e){a(e.data.docs),l(!0)})).catch((function(e){return console.log(e)}))}),[]),console.log(n),!1===o?Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{style:{height:"100vh"},children:Object(C.jsx)("img",{className:"img-loading",src:re,style:{height:"100vh"}})})]}):0===n.length&&o?Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{style:{height:"100vh"},children:Object(C.jsx)("img",{className:"img-not-found",src:"../images/book-not-found.png"})})]}):Object(C.jsxs)("div",{className:"search-page",children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"book-row-title",style:{textAlign:"center",marginBottom:"20px"},children:"Top trending"}),Object(C.jsx)("div",{className:"book-row",children:(e=n,e.map((function(e){return Object(C.jsx)(H,{id:e._id,bookName:e.title,author:e.author,image:e.image})})))})]})};var je=function(){var e,t=Object(s.useState)([]),c=Object(m.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(!1),r=Object(m.a)(i,2),o=r[0],l=r[1];return Object(ie.useEffect)((function(){ee.getNewReleaseBook().then((function(e){a(e.data.docs),l(!0)})).catch((function(e){return console.log(e)}))}),[]),console.log(n),!1===o?Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{style:{height:"100vh"},children:Object(C.jsx)("img",{className:"img-loading",src:re,style:{height:"100vh"}})})]}):0===n.length&&o?Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{style:{height:"100vh"},children:Object(C.jsx)("img",{className:"img-not-found",src:"../images/book-not-found.png"})})]}):Object(C.jsxs)("div",{className:"search-page",children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"book-row-title",style:{textAlign:"center",marginBottom:"20px"},children:"New release"}),Object(C.jsx)("div",{className:"book-row",children:(e=n,e.map((function(e){return Object(C.jsx)(H,{id:e._id,bookName:e.title,author:e.author,image:e.image})})))})]})};var be=function(){var e=Object(s.useState)([]),t=Object(m.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)([]),i=Object(m.a)(a,2),r=i[0],l=i[1];return Object(s.useEffect)((function(){ee.getTopBook().then((function(e){n(e.data.docs)})).catch((function(e){return console.log(e)})),ee.getNewReleaseBook().then((function(e){l(e.data.docs)})).catch((function(e){return console.log(e)}))}),[]),Object(C.jsxs)("div",{style:{minHeight:"100vh"},children:[Object(C.jsx)(te,{}),Object(C.jsxs)("div",{className:"discover-page",children:[Object(C.jsxs)("div",{className:"block-center",style:{padding:0},children:[Object(C.jsx)("div",{className:"book-row-title",children:"Trending Books"}),Object(C.jsxs)(o.b,{to:"/trending",style:{fontFamily:'"Montserrat", sans-serif',color:"black"},children:["See more ",">>>"," "]})]}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"book-row",children:function(e){return(e=e.slice(0,5)).map((function(e){return Object(C.jsx)("div",{className:"book-container",children:Object(C.jsx)("img",{src:e.image,className:"book-image"})})}))}(c)}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsxs)("div",{className:"block-center",style:{padding:0},children:[Object(C.jsx)("div",{className:"book-row-title",children:"New Release Books"}),Object(C.jsxs)(o.b,{to:"/new-release",style:{fontFamily:'"Montserrat", sans-serif',color:"black"},children:["See more ",">>>"," "]})]}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"book-row",children:function(e){return(e=e.slice(0,5)).map((function(e){return Object(C.jsx)("div",{className:"book-container",children:Object(C.jsx)("img",{src:e.image,className:"book-image"})})}))}(r)})]})]})};var ue=function(){var e,t=Object(s.useState)([]),c=Object(m.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(!1),r=Object(m.a)(i,2),o=r[0],l=r[1];return Object(ie.useEffect)((function(){ee.getTopBook().then((function(e){a(e.data.docs),l(!0)})).catch((function(e){return console.log(e)}))}),[]),console.log(n),!1===o?Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{style:{height:"100vh"},children:Object(C.jsx)("img",{className:"img-loading",src:re,style:{height:"100vh"}})})]}):0===n.length&&o?Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{style:{height:"100vh"},children:Object(C.jsx)("img",{className:"img-not-found",src:"../images/book-not-found.png"})})]}):Object(C.jsxs)("div",{className:"search-page",children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{className:"blank20"}),Object(C.jsx)("div",{className:"book-row-title",style:{textAlign:"center",marginBottom:"20px"},children:"Recommend"}),Object(C.jsx)("div",{className:"book-row",children:(e=n,e.map((function(e){return Object(C.jsx)(H,{id:e._id,bookName:e.title,author:e.author,image:e.image})})))})]})},me=new(function(){function e(){Object(x.a)(this,e)}return Object(p.a)(e,[{key:"getDetailMedia",value:function(e){return N.a.get("https://nice-book.herokuapp.com/api/v1/books/"+e+"/medias",{headers:U()})}}]),e}()),he=function(e){return e.isLoading?Object(C.jsxs)("div",{id:"loader",className:"d-flex justify-content-center align-items-center flex-column",children:[Object(C.jsx)("img",{src:"https://react-pdf.org/images/logo.png",alt:"loader",className:"mb-5 App-logo"}),Object(C.jsx)("p",{children:"Loading..."})]}):null},Oe=c(30),xe=function(e){var t=e.file;return Object(C.jsx)("i",{className:"fas fa-print clickable",onClick:function(){var e=document.createElement("iframe");e.style.visibility="hidden",e.src=t,document.body.appendChild(e),e.contentWindow.focus(),e.contentWindow.print()},title:"download"})},pe=function(e){var t=e.file,c=e.pageNumber,s=e.numPages,n=e.setPageNumber,a=e.scale,i=e.setScale,r=1===c,o=c===s,l=r?"disabled":"clickable",d=o?"disabled":"clickable",j=a<.6,b=a>=2,u=j?"disabled":"clickable",m=b?"disabled":"clickable";return Object(C.jsxs)("div",{className:"control-panel m-3 p-3 d-flex align-items-baseline justify-content-between",style:{backgroundColor:"#EEEEEE"},children:[Object(C.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[Object(C.jsx)("i",{className:"fas fa-fast-backward mx-3 ".concat(l),onClick:function(){r||n(1)}}),Object(C.jsx)("i",{className:"fas fa-backward mx-3 ".concat(l),onClick:function(){r||n(c-1)}}),Object(C.jsxs)("span",{children:["Page"," ",Object(C.jsx)("input",{name:"pageNumber",type:"number",min:1,max:s||1,className:"p-0 pl-1 mx-2",value:c,onChange:function(e){var t=e.target.value;n(Number(t))}})," ","of ",s]}),Object(C.jsx)("i",{className:"fas fa-forward mx-3 ".concat(d),onClick:function(){o||n(c+1)}}),Object(C.jsx)("i",{className:"fas fa-fast-forward mx-3 ".concat(d),onClick:function(){o||n(s)}})]}),Object(C.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[Object(C.jsx)("i",{className:"fas fa-search-minus mx-3 ".concat(u),onClick:function(){j||i(a-.1)}}),Object(C.jsxs)("span",{children:[(100*a).toFixed(),"%"]}),Object(C.jsx)("i",{className:"fas fa-search-plus mx-3 ".concat(m),onClick:function(){b||i(a+.1)}})]}),Object(C.jsx)("div",{className:"mx-3",children:Object(C.jsx)("a",{href:"/assets/docs/file-sample.pdf",download:!0,title:"download",children:Object(C.jsx)("i",{className:"fas fa-file-download clickable"})})}),Object(C.jsx)("div",{className:"mx-3",children:Object(C.jsx)(xe,{file:t})})]})};Oe.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Oe.c.version,"/pdf.worker.js");var fe=function(){var e=Object(s.useState)(1),t=Object(m.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(null),i=Object(m.a)(a,2),r=i[0],o=i[1],l=Object(s.useState)(1),d=Object(m.a)(l,2),j=d[0],b=d[1],u=Object(s.useState)(!0),h=Object(m.a)(u,2),O=h[0],x=h[1],p=_.bookID,f=Object(s.useState)(),g=Object(m.a)(f,2),v=g[0],y=g[1];return Object(s.useEffect)((function(){me.getDetailMedia(p).then((function(e){y(e.data.pdfs[0])})).catch((function(e){return console.log(e)}))}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)(he,{isLoading:O}),Object(C.jsxs)("section",{id:"pdf-section",className:"d-flex flex-column align-items-center w-100",children:[Object(C.jsx)(pe,{scale:c,setScale:n,numPages:r,pageNumber:j,setPageNumber:b,file:v}),Object(C.jsx)(Oe.a,{file:v,onLoadSuccess:function(e){var t=e.numPages;o(t),x(!1)},children:Object(C.jsx)(Oe.b,{pageNumber:j,scale:c})})]})]})};var ge=function(){var e=Object(s.useState)([{type:"",src:""},{type:"",src:""}]),t=Object(m.a)(e,2),c=t[0],n=t[1],a=_.bookID;return Object(s.useEffect)((function(){me.getDetailMedia(a).then((function(e){n(e.data.audios)})).catch((function(e){return console.log(e)}))}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)("ul",{style:{listStyle:"none"},children:Object(C.jsxs)("li",{style:{fontWeight:"bold",fontSize:"20px"},children:["Book audio",Object(C.jsx)("ul",{id:"list",onClick:function(e){e.preventDefault();var t=e.target,c=document.getElementById("audio");document.getElementById("audioSource").src=t.getAttribute("data-value"),c.load(),c.play()},children:function(e){return e.map((function(e){return Object(C.jsx)("li",{children:Object(C.jsx)("a",{href:"#","data-value":e.src,children:e.type})})}))}(c)})]})}),Object(C.jsx)("audio",{id:"audio",controls:!0,style:{width:"100%"},children:Object(C.jsx)("source",{id:"audioSource",src:c[0].src})})]})};var ve=[{path:"/signup",exact:!0,main:D},{path:"/login",exact:!0,main:P},{path:"/verify",exact:!0,main:L},{path:"/forgot-password",exact:!0,main:F},{path:"/new-password",exact:!0,main:M},{path:"/",exact:!0,main:A},{path:"/category/:name",exact:!0,main:le},{path:"/search",exact:!0,main:oe},{path:"/books/:id",exact:!0,main:ce},{path:"/trending",exact:!0,main:de},{path:"/new-release",exact:!0,main:je},{path:"/discover",exact:!0,main:be},{path:"/recommend",exact:!0,main:ue}],ye=[{path:"/profile",exact:!0,main:K},{path:"/profile/edit",exact:!0,main:Q},{path:"/profile/readings",exact:!0,main:se},{path:"/profile/favourites",exact:!0,main:ne},{path:"/profile/read-later",exact:!0,main:ae},{path:"/:id",exact:!0,main:function(e){var t=e.match.params.id;return console.log(t),localStorage.setItem("bookID",t),Object(C.jsxs)("div",{children:[Object(C.jsx)(te,{}),Object(C.jsx)("div",{className:"row profile-row",style:{justifyContent:"center"},children:Object(C.jsxs)("div",{className:"col-xs-9 col-sm-9 col-md-9 col-lg-9 book-detail",style:{display:"flex",flexDirection:"column"},children:[Object(C.jsxs)("h6",{style:{color:"#224362"},children:["Home",Object(C.jsx)("i",{class:"fas fa-angle-right",style:{marginLeft:"5px",marginRight:"5px"}}),"Book",Object(C.jsx)("i",{class:"fas fa-angle-right",style:{marginLeft:"5px",marginRight:"5px"}}),"PDF & Audio"]}),Object(C.jsx)(fe,{}),Object(C.jsx)(ge,{})]})})]})}}];c(203);var Ne=function(){return Object(C.jsx)("div",{children:Object(C.jsxs)("footer",{className:"list-footer-item",children:[Object(C.jsx)("p",{children:"\xa9 2021 All rights reserved NiceBook Inc"})," \xa0\xa0",Object(C.jsxs)("ul",{className:"list-inline",children:[Object(C.jsxs)("li",{class:"list-inline-item",children:[Object(C.jsx)(o.b,{href:"#",children:"About Us"})," | "]}),Object(C.jsxs)("li",{class:"list-inline-item",children:[Object(C.jsx)(o.b,{href:"#",children:"Privacy Notice"})," | "]}),Object(C.jsxs)("li",{class:"list-inline-item",children:[Object(C.jsx)(o.b,{href:"#",children:"Terms of Service"})," | "]}),Object(C.jsx)("li",{class:"list-inline-item",children:Object(C.jsx)(o.b,{href:"#",children:"United States (English)"})})]})]})})};var ke=function(){var e=Object(l.g)(),t=Object(s.useState)({author:""}),c=Object(m.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)({title:""}),o=Object(m.a)(i,2),d=o[0],u=o[1],h=function(e){"author"==document.getElementById("typeFilter").value?a(Object(r.a)(Object(r.a)({},n),{},{author:document.getElementById("search").value})):"title"==document.getElementById("typeFilter").value&&u(Object(r.a)(Object(r.a)({},d),{},{title:document.getElementById("search").value}))},O=function(){var t=Object(b.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("author"!=document.getElementById("typeFilter").value){t.next=8;break}return t.next=3,ee.searchBook(n);case 3:c=t.sent,""!=n.author&&e.push({pathname:"/search",state:c}),console.log(c),t.next=14;break;case 8:if("title"!=document.getElementById("typeFilter").value){t.next=14;break}return t.next=11,ee.searchBook(d);case 11:c=t.sent,""!=d.title&&e.push({pathname:"/search",state:c}),console.log(c);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(C.jsx)("header",{children:Object(C.jsx)("div",{className:"header-style",children:Object(C.jsxs)("div",{className:"header-component",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"logo-header",src:"%PUBLIC_URL%/images/Logo.png",onClick:function(){e.push({pathname:"/"})}})}),Object(C.jsxs)("div",{className:"header-component",children:[Object(C.jsxs)("select",{id:"typeFilter",className:"select-filter",onChange:h,children:[Object(C.jsx)("option",{value:"author",children:"Author"}),Object(C.jsx)("option",{value:"title",children:"Title"})]}),Object(C.jsx)("input",{className:"search-input form-control input-field-search",id:"search",style:{borderRadius:"0rem 0.25rem 0.25rem 0rem"},placeholder:"Search any book...",name:"search",type:"text",onChange:h}),Object(C.jsx)("i",{className:"fa fa-search icon-search fa-lg",onClick:O})]}),Object(C.jsxs)("div",{className:"header-component left-component",children:[Object(C.jsx)("button",{type:"button",className:"btn-login-header",onClick:function(){e.push({pathname:"/login"})},children:"Login"}),Object(C.jsx)("button",{type:"button",className:"btn-signup-header",onClick:function(){e.push({pathname:"/signup"})},children:"Sign up"})]})]})})})};var we=function(){var e=Object(l.g)(),t=_.username,c=Object(s.useState)({author:""}),n=Object(m.a)(c,2),a=n[0],i=n[1],d=Object(s.useState)({title:""}),u=Object(m.a)(d,2),h=u[0],O=u[1],x=function(e){"author"==document.getElementById("typeFilter").value?i(Object(r.a)(Object(r.a)({},a),{},{author:document.getElementById("search").value})):"title"==document.getElementById("typeFilter").value&&O(Object(r.a)(Object(r.a)({},h),{},{title:document.getElementById("search").value}))},p=function(){var t=Object(b.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("author"!=document.getElementById("typeFilter").value){t.next=8;break}return t.next=3,ee.searchBook(a);case 3:c=t.sent,""!=a.author&&e.push({pathname:"/search",state:c}),console.log(c),t.next=14;break;case 8:if("title"!=document.getElementById("typeFilter").value){t.next=14;break}return t.next=11,ee.searchBook(h);case 11:c=t.sent,""!=h.title&&e.push({pathname:"/search",state:c}),console.log(c);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(C.jsx)("header",{children:Object(C.jsx)("div",{className:"header-style",children:Object(C.jsxs)("div",{className:"header-component",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"logo-header",src:"../images/Logo.png",onClick:function(){e.push({pathname:"/"})}})}),Object(C.jsxs)("div",{className:"header-component ",children:[Object(C.jsxs)("select",{id:"typeFilter",className:"select-filter",onChange:x,children:[Object(C.jsx)("option",{value:"author",children:"Author"}),Object(C.jsx)("option",{value:"title",children:"Title"})]}),Object(C.jsx)("input",{className:"search-input form-control input-field-search",id:"search",style:{borderRadius:"0rem 0.25rem 0.25rem 0rem"},placeholder:"Search any book...",name:"search",type:"text",onChange:x}),Object(C.jsx)("i",{className:"fa fa-search icon-search fa-lg",onClick:p})]}),Object(C.jsxs)("div",{className:"dropdown",children:[Object(C.jsxs)("h6",{className:"header-component left-component",style:{marginTop:"20px"},children:["Welcome, ",t]}),Object(C.jsx)("div",{className:"dropdown-content",children:Object(C.jsx)(o.b,{to:"/profile",style:{textDecoration:"none",color:"black"},children:"Profile"})})]}),Object(C.jsx)("div",{className:"header-component left-component",children:Object(C.jsx)("button",{type:"button",className:"btn-login-header",onClick:function(){S.logout(),e.push({pathname:"/login"}),window.location.reload()},children:"Sign out"})})]})})})};var Se=function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return Object(C.jsx)(l.b,{path:e.path,exact:e.exact,render:function(t){return Object(C.jsx)(e.main,Object(r.a)({},t))}},t)}))),t},Te=function(e,t,c){var s=null;return e.length>0&&(s=e.map((function(e,c){return Object(C.jsx)(l.b,{path:e.path,exact:!0,render:function(c){return t?Object(C.jsx)(e.main,Object(r.a)({},c)):Object(C.jsx)(l.a,{to:"/login"})}},c)}))),s},Ee=function(){var e=function(){return""!==_.token&&null!==_.token};return Object(C.jsx)("div",{className:"app-container",children:Object(C.jsxs)(o.a,{basename:"/",children:[e()?Object(C.jsx)(we,{}):Object(C.jsx)(ke,{}),Object(C.jsxs)(l.d,{children:[Se(ve),Te(ye,e())]}),Object(C.jsx)(Ne,{})]})})},Ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,205)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),s(e),n(e),a(e),i(e)}))};i.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(Ee,{})}),document.getElementById("root")),Ce()},71:function(e,t){},82:function(e,t,c){}},[[204,1,2]]]);
//# sourceMappingURL=main.6f20f38e.chunk.js.map